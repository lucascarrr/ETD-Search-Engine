{"version":3,"file":"d3plus-plot.js","sources":["../src/buffers/discreteBuffer.js","../src/buffers/Bar.js","../src/buffers/Box.js","../src/buffers/numericBuffer.js","../src/buffers/Circle.js","../src/buffers/Line.js","../src/buffers/Rect.js","../src/Plot.js","../src/AreaPlot.js","../src/BarChart.js","../src/BoxWhisker.js","../src/BumpChart.js","../src/LinePlot.js","../src/Radar.js","../src/StackedArea.js"],"sourcesContent":["/**\n * Adds left/right padding to a point or time scale.\n * @private\n */\nexport default (scale, data, discrete) => {\n\n  if (scale.padding) scale.padding(0.5);\n  else {\n    let uniqueValues = Array.from(new Set(data.map(d => +d[discrete])));\n    const closest = uniqueValues.reduce((acc, curr, i, arr) => {\n      if (!i) return acc;\n      const prev = arr[i - 1];\n      if (!acc || curr - prev < acc) return curr - prev;\n      else return acc;\n    }, 0);\n    const domain = scale.domain().slice();\n    if (discrete === \"y\") domain.reverse();\n    domain[0] = new Date(+domain[0] - closest / 2);\n    domain[1] = new Date(+domain[1] + closest / 2);\n    if (discrete === \"y\") domain.reverse();\n    scale.domain(domain);\n  }\n\n};\n","import {max, min, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer.js\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\nexport default function({data, x, y, x2, y2, buffer = 10}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const oppScale = this._discrete === \"x\" ? y : x;\n\n  const oppDomain = oppScale.domain().slice();\n\n  const isDiscreteX = this._discrete === \"x\";\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  let negVals, posVals;\n  if (this._stacked) {\n    const groupedData = nest()\n      .key(d => `${d[this._discrete]}_${d.group}`)\n      .entries(data)\n      .map(d => d.values.map(x => x[isDiscreteX ? yKey : xKey]));\n    posVals = groupedData.map(arr => sum(arr.filter(d => d > 0)));\n    negVals = groupedData.map(arr => sum(arr.filter(d => d < 0)));\n  }\n  else {\n    const allValues = data.map(d => d[isDiscreteX ? yKey : xKey]);\n    posVals = allValues.filter(d => d > 0);\n    negVals = allValues.filter(d => d < 0);\n  }\n\n  let bMax = oppScale(max(posVals));\n  if (isDiscreteX ? bMax < oppScale(0) : bMax > oppScale(0)) bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n\n  let bMin = oppScale(min(negVals));\n  if (isDiscreteX ? bMin > oppScale(0) : bMin < oppScale(0)) bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n\n  if (isDiscreteX) oppDomain.reverse();\n  \n  oppScale.domain(oppDomain);\n\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n\n  return [x, y];\n\n}\n","import {max, min, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer.js\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\nexport default function({data, x, y, x2, y2, buffer = 10}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const oppScale = this._discrete === \"x\" ? y : x;\n\n  const oppDomain = oppScale.domain().slice();\n\n  const isDiscreteX = this._discrete === \"x\";\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  let negVals, posVals;\n  if (this._stacked) {\n    const groupedData = nest()\n      .key(d => d[this._discrete])\n      .entries(data)\n      .map(d => d.values.map(x => x[isDiscreteX ? yKey : xKey]));\n    posVals = groupedData.map(arr => sum(arr.filter(d => d > 0)));\n    negVals = groupedData.map(arr => sum(arr.filter(d => d < 0)));\n  }\n  else {\n    posVals = data.map(d => d[isDiscreteX ? yKey : xKey]);\n    negVals = posVals;\n  }\n\n  let bMax = oppScale(max(posVals));\n  bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n\n  let bMin = oppScale(min(negVals));\n  bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  oppScale.domain(oppDomain);\n\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n\n  return [x, y];\n\n}\n","import {scaleLog} from \"d3-scale\";\n\nconst floor10 = v => Math.pow(10, Math.floor(Math.log10(Math.abs(v)))) * Math.pow(-1, v < 0);\nconst ceil10 = v => Math.pow(10, Math.ceil(Math.log10(Math.abs(v)))) * Math.pow(-1, v < 0);\n\n/** */\nexport default function(axis, scale, value, size, range, domain, index, invert) {\n\n  if (value === undefined || isNaN(domain[0]) || isNaN(domain[1])) return domain;\n\n  if (invert) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  if (domain[0] === domain[1]) {\n    domain = domain.slice();\n    if (scale === \"log\") {\n      domain = [floor10(domain[0]), ceil10(domain[0])];\n      if (domain[1] < domain[0]) domain.reverse();\n    }\n    else {\n      const mod = Math.abs(parseFloat(domain[0].toPrecision(1).replace(/[0-9]{1}$/, \"1\")));\n      domain[0] -= mod;\n      domain[1] += mod;\n    }\n    axis.domain(invert ? domain.slice().reverse() : domain);\n    return invert ? domain.reverse() : domain;\n  }\n\n  const logMod = domain[0] === domain[1] ? 10 : Math.abs(Math.log(domain[1] - domain[0]) / 100);\n\n  const needsBuffer = () => {\n    let tempAxis = axis.copy();\n    let diverging = false;\n    if (scale === \"log\") {\n      let d = axis.domain().slice(),\n          r = axis.range().slice();\n      if (invert) {\n        d = d.reverse();\n        r = r.reverse();\n      }\n      diverging = d[0] * d[1] < 0;\n      if (diverging) {\n        const percentScale = scaleLog().domain([1e-6, Math.abs(d[index])]).range([0, 1]);\n        const leftPercentage = percentScale(Math.abs(d[index ? 0 : 1]));\n        const zero = leftPercentage / (leftPercentage + 1) * (r[1] - r[0]);\n        d = (index === 0 ? [d[0], 1e-6] : [1e-6, d[1]]).map(Math.abs);\n        r = index === 0 ? [r[0], r[0] + zero] : [r[0] + zero, r[1]];\n      }\n      tempAxis = scaleLog()\n        .domain(d)\n        .range(r);\n    }\n\n    let outside = false;\n    const tempRange = tempAxis.range();\n    let pixelValue;\n    if (scale === \"log\") {\n      pixelValue = diverging ? tempAxis(Math.abs(value)) : tempAxis(value);\n    }\n    else pixelValue = tempAxis(value);\n    \n    if (invert) {\n      if (index === 0) outside = pixelValue + size > tempRange[index];\n      else if (index === 1) outside = pixelValue - size < tempRange[index];\n    }\n    else {\n      if (index === 0) outside = pixelValue - size < tempRange[index];\n      else if (index === 1) outside = pixelValue + size > tempRange[index];\n    }\n    return outside;\n\n  };\n\n  if (axis.invert && needsBuffer()) {\n    const mod = 10;\n    if (scale === \"log\") {\n      let i = 0;\n      while (i < 10 && needsBuffer()) {\n        const mod = (index === 0 ? -1 : 1) * (domain[index] < 0 ? -1 : 1);\n        domain[index] += domain[index] * logMod * mod;\n        axis.domain(invert ? domain.slice().reverse() : domain);\n        i++;\n      }\n    }\n    else if (index === 0) {\n      const v = axis.invert(axis(value) + (size + mod) * (invert ? 1 : -1));\n      if (v < domain[index]) {\n        domain[index] = v;\n        axis.domain(invert ? domain.slice().reverse() : domain);\n      }\n    }\n    else if (index === 1) {\n      const v = axis.invert(axis(value) + (size + mod) * (invert ? -1 : 1));\n      if (v > domain[index]) {\n        domain[index] = v;\n        axis.domain(invert ? domain.slice().reverse() : domain);\n      }\n    }\n  }\n\n  return invert ? domain.reverse() : domain;\n}\n","import discreteBuffer from \"./discreteBuffer.js\";\nimport numericBuffer from \"./numericBuffer.js\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\nexport default function({data, x, y, x2, y2, yScale, xScale, config, buffer}) {\n\n  x = x.copy();\n  y = y.copy();\n\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  let xD = x.domain().slice(),\n      yD = y.domain().slice();\n\n  const xR = x.range(),\n        yR = y.range();\n\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n\n  if (x.invert || y.invert) {\n\n    data.forEach(d => {\n\n      const s = buffer ? buffer : config.r(d.data, d.i) * 2;\n\n      if (x.invert) {\n        xD = numericBuffer(x, xScale, d[xKey], s, xR, xD, 0, false);\n        xD = numericBuffer(x, xScale, d[xKey], s, xR, xD, 1, false);\n      }\n\n      if (y.invert) {\n        yD = numericBuffer(y, yScale, d[yKey], s, yR, yD, 0, true);\n        yD = numericBuffer(y, yScale, d[yKey], s, yR, yD, 1, true);\n      }\n\n    });\n\n  }\n\n  return [x, y];\n\n}\n","import {max} from \"d3-array\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\nexport default function({data, x, y, x2, y2}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const s = this._discrete === \"x\" ? y : x;\n\n  const d = s.domain().slice();\n\n  if (this._discrete === \"x\") d.reverse();\n\n  const vals = data.map(d => d[this._discrete === \"x\" ? yKey : xKey]);\n  const b = s.invert(s(max(vals)) + (this._discrete === \"x\" ? -10 : 10));\n\n  if (b > d[1]) d[1] = b;\n\n  if (this._discrete === \"x\") d.reverse();\n\n  s.domain(d);\n\n  return [x, y];\n\n}\n","import discreteBuffer from \"./discreteBuffer.js\";\nimport numericBuffer from \"./numericBuffer.js\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the width/height of the largest Rect.\n    @private\n*/\nexport default function({data, x, y, x2, y2, yScale, xScale, config}) {\n\n  x = x.copy();\n  y = y.copy();\n\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  let xD = x.domain().slice(),\n      yD = y.domain().slice();\n\n  const xR = x.range(),\n        yR = y.range();\n\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n\n  if (x.invert || y.invert) {\n\n    data.forEach(d => {\n\n      if (x.invert) {\n        const w = config.width(d.data, d.i);\n        xD = numericBuffer(x, xScale, d[xKey], w, xR, xD, 0, false);\n        xD = numericBuffer(x, xScale, d[xKey], w, xR, xD, 1, false);\n      }\n\n      if (y.invert) {\n        const h = config.height(d.data, d.i);\n        yD = numericBuffer(y, yScale, d[yKey], h, yR, yD, 0, true);\n        yD = numericBuffer(y, yScale, d[yKey], h, yR, yD, 1, true);\n      }\n\n    });\n\n  }\n\n  return [x, y];\n\n}\n\n","/* eslint no-cond-assign: 0 */\n\nimport {deviation, extent, max, mean, merge, min, range, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport * as scales from \"d3-scale\";\nimport * as d3Shape from \"d3-shape\";\n\nimport {AxisBottom, AxisLeft, AxisRight, AxisTop, date} from \"d3plus-axis\";\nimport {colorAssign, colorContrast, colorDefaults, colorLegible} from \"d3plus-color\";\nimport {accessor, assign, configPrep, constant, elem, unique} from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport {textWidth, TextBox} from \"d3plus-text\";\nconst testLineShape = new shapes.Line();\nconst testTextBox = new TextBox();\nimport {Viz} from \"d3plus-viz\";\n\nimport {default as BarBuffer} from \"./buffers/Bar.js\";\nimport {default as BoxBuffer} from \"./buffers/Box.js\";\nimport {default as CircleBuffer} from \"./buffers/Circle.js\";\nimport {default as LineBuffer} from \"./buffers/Line.js\";\nimport {default as RectBuffer} from \"./buffers/Rect.js\";\n\n/**\n    @desc Logic for determining default sizes of shapes using the sizeScaleD3 internal function.\n    @private\n*/\nfunction defaultSize(d) {\n  return this._sizeScaleD3(this._size ? this._size(d) : null);\n}\n\n/**\n    @desc Logic for determining stackOrder ascending using groups.\n    @private\n*/\nfunction stackOrderAscending(series) {\n  const sums = series.map(stackSum);\n  const keys = series.map(d => d.key.split(\"_\")[0]);\n  return d3Shape.stackOrderNone(series).sort((a, b) => keys[b].localeCompare(keys[a]) || sums[a] - sums[b]);\n}\n\n/**\n    @desc Logic for determining stackOrder descending using groups.\n    @private\n*/\nfunction stackOrderDescending(series) {\n  return stackOrderAscending(series).reverse();\n}\n\n/**\n    @desc Logic for determining default sum of shapes using the stackSum function used in d3Shape.\n    @private\n*/\nfunction stackSum(series) {\n  let i = -1, s = 0, v;\n  const n = series.length;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\n/**\n    @desc Logic for determining default sum of shapes using the stackSum function used in d3Shape.\n    @private\n*/\nfunction stackOffsetDiverging(series, order) {\n  let n;\n  if (!((n = series.length) > 0)) return;\n  let d, dy, i, yn, yp;\n  const m = series[order[0]].length;\n  for (let j = 0; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      }\n      else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      }\n      else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n\n/**\n * Determines if a Bar label should be placed outside of the Bar.\n * @param {@} d\n * @param {*} i\n * @private\n */\nfunction outside(d, i) {\n  if (this._stacked) return false;\n  const other = this._discrete.charAt(0) === \"x\" ? \"y\" : \"x\";\n  const nonDiscrete = this._discrete.replace(this._discrete.charAt(0), other);\n  const range = this[`_${nonDiscrete}Axis`]._d3Scale.range();\n  const value = this[`_${nonDiscrete}`](d, i);\n  const negative = value < 0;\n  const zero = this[`_${nonDiscrete}Axis`]._getPosition(0);\n  const space = nonDiscrete === \"y\"\n    ? negative ? range[1] - zero : zero - range[0]\n    : negative ? zero - range[0] : range[1] - zero;\n  const pos = this[`_${nonDiscrete}Axis`]._getPosition(value);\n  const size = Math.abs(pos - zero);\n  return size < space / 2;\n}\n\n/**\n    @class Plot\n    @extends Viz\n    @desc Creates an x/y plot based on an array of data.\n*/\nexport default class Plot extends Viz {\n\n  /**\n      @memberof Plot\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._annotations = [];\n    this._backgroundConfig = {\n      duration: 0,\n      fill: \"transparent\"\n    };\n    this._barPadding = 0;\n    this._buffer = {\n      Bar: BarBuffer,\n      Box: BoxBuffer,\n      Circle: CircleBuffer,\n      Line: LineBuffer,\n      Rect: RectBuffer\n    };\n    this._confidenceConfig = {\n      fill: (d, i) => {\n        const c = typeof this._shapeConfig.Line.stroke === \"function\"\n          ? this._shapeConfig.Line.stroke(d, i)\n          : this._shapeConfig.Line.stroke;\n        return c;\n      },\n      fillOpacity: constant(0.5)\n    };\n    this._discreteCutoff = 100;\n    this._groupPadding = 5;\n    this._lineMarkerConfig = {\n      fill: (d, i) => colorAssign(this._id(d, i)),\n      r: constant(3)\n    };\n    this._lineMarkers = false;\n    this._previousAnnotations = [];\n    this._previousShapes = [];\n    this._shape = constant(\"Circle\");\n    this._shapeConfig = assign(this._shapeConfig, {\n      Area: {\n        label: (d, i) => this._stacked ? this._drawLabel(d, i) : false,\n        labelBounds: (d, i, aes) => {\n          let r = shapes.largestRect(aes.points, {angle: range(-20, 20, 5)});\n          if (!r || r.height < 20 || r.width < 50) r = shapes.largestRect(aes.points, {angle: range(-80, 80, 5)});\n          if (!r) return null;\n          const x = min(aes.points, d => d[0]);\n          const y = max(aes.points.filter(d => d[0] === x), d => d[1]);\n          return {\n            angle: r.angle,\n            width: r.width,\n            height: r.height,\n            x: r.cx - r.width / 2 - x,\n            y: r.cy - r.height / 2 - y\n          };\n        },\n        labelConfig: {\n          fontMin: 6,\n          fontResize: true,\n          padding: 10\n        }\n      },\n      ariaLabel: (d, i) => {\n        let ariaLabelStr = \"\";\n        if (d.nested) ariaLabelStr = `${this._drawLabel(d.data, d.i)}`;\n        else {\n          ariaLabelStr = `${this._drawLabel(d, i)}`;\n          if (this._x(d, i) !== undefined) ariaLabelStr += `, x: ${this._x(d, i)}`;\n          if (this._y(d, i) !== undefined) ariaLabelStr += `, y: ${this._y(d, i)}`;\n          if (this._x2(d, i) !== undefined) ariaLabelStr += `, x2: ${this._x2(d, i)}`;\n          if (this._y2(d, i) !== undefined) ariaLabelStr += `, y2: ${this._y2(d, i)}`;\n        }\n        return `${ariaLabelStr}.`;\n      },\n      Bar: {\n        labelBounds(d, i, s) {\n\n          const padding = 1;\n\n          const width = this._discrete === \"y\" ? \"width\" : \"height\";\n          const height = this._discrete === \"y\" ? \"height\" : \"width\";\n\n          const other = this._discrete.charAt(0) === \"x\" ? \"y\" : \"x\";\n          const invert = other === \"y\";\n          const nonDiscrete = this._discrete.replace(this._discrete.charAt(0), other);\n          const range = this[`_${nonDiscrete}Axis`]._d3Scale.range();\n          const space = Math.abs(range[1] - range[0]);\n          const negative = this[`_${nonDiscrete}`](d, i) < 0;\n\n          if (outside.bind(this)(d, i)) {\n            return {\n              [width]: space - s[width],\n              [height]: s[height],\n              x: invert ? -s.width / 2 : negative ? -space : s.width + padding,\n              y: invert ? negative ? s.height + padding : -space : -s.height / 2 + 1\n            };\n          }\n          return {\n            [width]: s[width],\n            [height]: s[height],\n            x: invert ? -s.width / 2 : negative ? this._stacked ? padding : padding - s.width : -padding,\n            y: invert ? negative ? this._stacked ? padding - s.height : padding : -s.height + padding : -s.height / 2 + padding\n          };\n\n        },\n        labelConfig: {\n          fontMax: 16,\n          fontMin: 6,\n          fontResize: true,\n          fontColor(d, i) {\n            return outside.bind(this)(d, i)\n              ? this._backgroundConfig.fill === \"transparent\"\n                ? colorDefaults.dark\n                : colorContrast(this._backgroundConfig.fill)\n              : colorContrast(typeof this._shapeConfig.fill === \"function\" ? this._shapeConfig.fill(d, i) : this._shapeConfig.fill);\n          },\n          fontStroke(d, i) {\n            return outside.bind(this)(d, i)\n              ? this._backgroundConfig.fill === \"transparent\"\n                ? colorDefaults.dark\n                : colorContrast(this._backgroundConfig.fill)\n              : \"transparent\";\n          },\n          fontStrokeWidth(d, i) {\n            return outside.bind(this)(d, i) ? 0.1 : 0;\n          },\n          padding: 3,\n          textAnchor(d, i) {\n            const other = this._discrete.charAt(0) === \"x\" ? \"y\" : \"x\";\n            const invert = other === \"y\";\n            const nonDiscrete = this._discrete.replace(this._discrete.charAt(0), other);\n            const negative = this[`_${nonDiscrete}`](d, i) < 0;\n            return invert\n              ? \"middle\"\n              : outside.bind(this)(d, i)\n                ? negative ? \"end\" : \"start\"\n                : negative ? \"start\" : \"end\";\n          },\n          verticalAlign(d, i) {\n            const other = this._discrete.charAt(0) === \"x\" ? \"y\" : \"x\";\n            const invert = other === \"y\";\n            const nonDiscrete = this._discrete.replace(this._discrete.charAt(0), other);\n            const negative = this[`_${nonDiscrete}`](d, i) < 0;\n            return invert\n              ? outside.bind(this)(d, i)\n                ? negative ? \"top\" : \"bottom\"\n                : negative ? \"bottom\" : \"top\"\n              : \"middle\";\n          }\n        }\n      },\n      Circle: {\n        r: defaultSize.bind(this)\n      },\n      Line: {\n        curve: () => this._discrete ? `monotone${this._discrete.charAt(0).toUpperCase()}` : \"linear\",\n        fill: constant(\"none\"),\n        labelConfig: {\n          fontColor: (d, i) => {\n            const c = typeof this._shapeConfig.Line.stroke === \"function\"\n              ? this._shapeConfig.Line.stroke(d, i)\n              : this._shapeConfig.Line.stroke;\n            return colorLegible(c);\n          },\n          fontResize: false,\n          padding: 5,\n          textAnchor: \"start\",\n          verticalAlign: \"middle\"\n        },\n        strokeWidth: constant(2)\n      },\n      Rect: {\n        height: d => defaultSize.bind(this)(d) * 2,\n        width: d => defaultSize.bind(this)(d) * 2\n      }\n    });\n    this._shapeOrder = [\"Area\", \"Path\", \"Bar\", \"Box\", \"Line\", \"Rect\", \"Circle\"];\n    this._shapeSort = (a, b) => this._shapeOrder.indexOf(a) - this._shapeOrder.indexOf(b);\n    this._sizeMax = 20;\n    this._sizeMin = 5;\n    this._sizeScale = \"sqrt\";\n    this._stackOffset = stackOffsetDiverging;\n    this._stackOrder = stackOrderDescending;\n    this._timelineConfig = assign(this._timelineConfig, {\n      brushing: true,\n      brushMin: () => this._xTime || this._yTime || this._x2Time || this._y2Time ? 2 : 1\n    });\n\n    this._x = accessor(\"x\");\n    this._xAxis = new AxisBottom().align(\"end\");\n    this._xTest = new AxisBottom().align(\"end\").gridSize(0);\n    this._xConfig = {\n      gridConfig: {\n        stroke: d => {\n          if (this._discrete && this._discrete.charAt(0) === \"x\") return \"transparent\";\n          const range = this._xAxis.range();\n          // hides left-most x gridline so it doesn't overlap with the y axis\n          return range[0] === this._xAxis._getPosition.bind(this._xAxis)(d.id) ? \"transparent\" : \"#eee\";\n        }\n      }\n    };\n    this._xCutoff = 150;\n\n    this._x2 = accessor(\"x2\");\n    this._x2Axis = new AxisTop().align(\"start\");\n    this._x2Test = new AxisTop().align(\"start\").gridSize(0);\n    this._x2Config = {\n      padding: 0\n    };\n\n    this._y = accessor(\"y\");\n    this._yAxis = new AxisLeft().align(\"start\");\n    this._yTest = new AxisLeft().align(\"start\").gridSize(0);\n    this._yConfig = {\n      gridConfig: {\n        stroke: d => {\n          if (this._discrete && this._discrete.charAt(0) === \"y\") return \"transparent\";\n          const range = this._yAxis.range();\n          // hides bottom-most y gridline so it doesn't overlap with the x axis\n          return range[range.length - 1] === this._yAxis._getPosition.bind(this._yAxis)(d.id) ? \"transparent\" : \"#eee\";\n        }\n      }\n    };\n    this._yCutoff = 150;\n\n    this._y2 = accessor(\"y2\");\n    this._y2Axis = new AxisRight().align(\"end\");\n    this._y2Test = new AxisLeft().align(\"end\").gridSize(0);\n    this._y2Config = {};\n\n  }\n\n  /**\n      Extends the preDraw behavior of the abstract Viz class.\n      @private\n  */\n  _preDraw() {\n\n    // logic repeated for each axis\n    [\"x\", \"y\", \"x2\", \"y2\"].forEach(k => {\n\n      // if user has supplied a String key as the main method value\n      if (this[`_${k}Key`]) {\n\n        const str = this[`_${k}Key`];\n\n        // if axis is discrete and numerical, do not sum values\n        if (!this._aggs[str] && this._discrete === k) {\n          this._aggs[str] = (a, c) => {\n            const v = Array.from(new Set(a.map(c)));\n            return v.length === 1 ? v[0] : v;\n          };\n        }\n\n        // set axis title if not discrete\n        if (str !== k && this[`_${k}Title`] === this[`_${k}Config`].title && this._discrete !== k) {\n          this[`_${k}Title`] = str;\n          this[`_${k}Config`].title = str;\n        }\n\n      }\n\n    });\n\n    super._preDraw();\n\n  }\n\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n  _draw(callback) {\n\n    if (!this._filteredData.length) return this;\n\n    const stackGroup = (d, i) => this._stacked\n      ? `${this._groupBy.length > 1 ? this._ids(d, i).slice(0, -1).join(\"_\") : \"group\"}`\n      : `${this._ids(d, i).join(\"_\")}`;\n\n    let data = this._filteredData.map((d, i) => ({\n      __d3plus__: true,\n      data: d,\n      group: stackGroup(d, i),\n      i,\n      hci: this._confidence && this._confidence[1] && this._confidence[1](d, i),\n      id: this._ids(d, i).slice(0, this._drawDepth + 1).join(\"_\"),\n      lci: this._confidence && this._confidence[0] && this._confidence[0](d, i),\n      shape: this._shape(d, i),\n      x: this._x(d, i),\n      x2: this._x2(d, i),\n      y: this._y(d, i),\n      y2: this._y2(d, i)\n    }));\n\n    this._formattedData = data;\n\n    if (this._size) {\n      const rExtent = extent(data, d => this._size(d.data));\n      this._sizeScaleD3 = () => this._sizeMin;\n      this._sizeScaleD3 = scales[`scale${this._sizeScale.charAt(0).toUpperCase()}${this._sizeScale.slice(1)}`]()\n        .domain(rExtent)\n        .range([rExtent[0] === rExtent[1] ? this._sizeMax : min([this._sizeMax / 2, this._sizeMin]), this._sizeMax]);\n    }\n    else {\n      this._sizeScaleD3 = () => this._sizeMin;\n    }\n\n    const x2Exists = data.some(d => d.x2 !== undefined),\n          y2Exists = data.some(d => d.y2 !== undefined);\n\n    const height = this._height - this._margin.top - this._margin.bottom,\n          opp = this._discrete ? this._discrete === \"x\" ? \"y\" : \"x\" : undefined,\n          opp2 = this._discrete ? this._discrete === \"x\" ? \"y2\" : \"x2\" : undefined,\n          opps = [opp, opp2].filter(d => d),\n          parent = this._select,\n          transition = this._transition,\n          width = this._width - this._margin.left - this._margin.right;\n\n    const x2Time = this._x2Time = this._time && data[0].x2 === this._time(data[0].data, data[0].i),\n          xTime = this._xTime = this._time && data[0].x === this._time(data[0].data, data[0].i),\n          y2Time = this._y2Time = this._time && data[0].y2 === this._time(data[0].data, data[0].i),\n          yTime = this._yTime = this._time && data[0].y === this._time(data[0].data, data[0].i);\n\n    for (let i = 0; i < data.length; i++) {\n      const d = data[i];\n      if (xTime) d.x = date(d.x);\n      if (x2Time) d.x2 = date(d.x2);\n      if (yTime) d.y = date(d.y);\n      if (y2Time) d.y2 = date(d.y2);\n      d.discrete = d.shape === \"Bar\" ? `${d[this._discrete]}_${d.group}` : `${d[this._discrete]}`;\n    }\n\n    /**\n     * @desc Returns all unique values for a given axis.\n     * @param {String} axis\n     * @returns {Array}\n     * @private\n     */\n    function getValues(axis) {\n      let axisData = data\n        .filter(d => d[axis])\n        .sort((a, b) => this[`_${axis}Sort`] ? this[`_${axis}Sort`](a.data, b.data) : a[axis] - b[axis])\n        .map(d => d[axis]);\n      if (this._discrete !== axis.charAt(0) && this._confidence) {\n        if (this._confidence[0]) axisData = axisData.concat(data.map(d => d.lci));\n        if (this._confidence[1]) axisData = axisData.concat(data.map(d => d.hci));\n      }\n      return unique(axisData, d => `${d}`);\n    }\n\n    const xData = getValues.bind(this)(\"x\");\n    const x2Data = getValues.bind(this)(\"x2\");\n    const yData = getValues.bind(this)(\"y\");\n    const y2Data = getValues.bind(this)(\"y2\");\n\n    let discreteKeys, domains, stackData, stackKeys;\n    if (this._stacked) {\n\n      const stackedData = data.filter(d => [\"Area\", \"Bar\"].includes(d.shape));\n\n      const groupValues = nest()\n        .key(d => d.group)\n        .entries(stackedData)\n        .reduce((obj, d) => {\n          if (!obj[d.key]) obj[d.key] = 0;\n          obj[d.key] += sum(d.values, dd => dd[opp]);\n          return obj;\n        }, {});\n\n      data = data.sort((a, b) => {\n        if (this[`_${this._discrete}Sort`]) return this[`_${this._discrete}Sort`](a.data, b.data);\n        const a1 = a[this._discrete], b1 = b[this._discrete];\n        if (a1 - b1 !== 0) return a1 - b1;\n        if (a.group !== b.group) return groupValues[b.group] - groupValues[a.group];\n        return b[opp] - a[opp];\n      });\n\n      discreteKeys = Array.from(new Set(data.map(d => d.discrete)));\n      stackKeys = Array.from(new Set(data.map(d => d.id)));\n\n      stackData = nest()\n        .key(d => d.discrete)\n        .entries(data)\n        .map(d => d.values);\n\n      stackData.forEach(g => {\n        const ids = Array.from(new Set(g.map(d => d.id)));\n        if (ids.length < stackKeys.length) {\n          stackKeys.forEach(k => {\n            if (!ids.includes(k)) {\n              const d = data.filter(d => d.id === k)[0];\n              if (d.shape === \"Area\") {\n                const group = stackGroup(d.data, d.i);\n                const fillerPoint = {\n                  __d3plus__: true,\n                  data: d.data,\n                  discrete: d.shape === \"Bar\" ? `${g[0][this._discrete]}_${group}` : `${g[0][this._discrete]}`,\n                  group,\n                  id: k,\n                  shape: d.shape,\n                  [this._discrete]: g[0][this._discrete],\n                  [opp]: 0\n                };\n                data.push(fillerPoint);\n              }\n            }\n          });\n        }\n      });\n\n      if (this[`_${this._discrete}Sort`]) {\n        data.sort((a, b) => this[`_${this._discrete}Sort`](a.data, b.data));\n      }\n      else {\n        data.sort((a, b) => a[this._discrete] - b[this._discrete]);\n      }\n\n      const order = this._stackOrder;\n\n      if (order instanceof Array) stackKeys.sort((a, b) => order.indexOf(a) - order.indexOf(b));\n      else if (order === d3Shape.stackOrderNone) stackKeys.sort((a, b) => a.localeCompare(b));\n\n      stackData = d3Shape.stack()\n        .keys(stackKeys)\n        .offset(this._stackOffset)\n        .order(order instanceof Array ? d3Shape.stackOrderNone : order)\n        .value((group, key) => {\n          const d = group.filter(g => g.id === key);\n          return d.length ? d[0][opp] : 0;\n        })(stackData);\n\n      const discreteData = this._discrete === \"x\" ? xData : yData;\n\n      domains = {\n        [this._discrete]: this[`_${this._discrete}Time`] ? extent(discreteData) : discreteData,\n        [opp]: [min(stackData.map(g => min(g.map(p => p[0])))), max(stackData.map(g => max(g.map(p => p[1]))))]\n      };\n\n    }\n    else {\n\n      const discrete = this._discrete || \"x\";\n\n      if (this[`_${this._discrete}Sort`]) {\n        data.sort((a, b) => this[`_${this._discrete}Sort`](a.data, b.data));\n      }\n      else {\n        data.sort((a, b) => a[discrete] - b[discrete]);\n      }\n\n      domains = {\n        x: !xTime && this._discrete === \"x\" || this._xSort ? xData : extent(xData),\n        x2: !x2Time && this._discrete === \"x\" || this._x2Sort ? x2Data : extent(x2Data),\n        y: !yTime && this._discrete === \"y\" || this._ySort ? yData : extent(yData),\n        y2: !y2Time && this._discrete === \"y\" || this._y2Sort ? y2Data : extent(y2Data)\n      };\n    }\n\n    /**\n     * Determins default scale type and domain for a given axis.\n     * @param {String} axis\n     * @private\n     */\n    function domainScaleSetup(axis) {\n\n      const scale = this[`_${axis}Time`] ? \"Time\" : this._discrete === axis || this[`_${axis}Sort`] ? \"Point\" : \"Linear\";\n\n      const domain = this[`_${axis}Domain`] ? this[`_${axis}Domain`].slice() : domains[axis],\n            domain2 = this[`_${axis}2Domain`] ? this[`_${axis}2Domain`].slice() : domains[`${axis}2`];\n\n      if (scale !== \"Point\") {\n        if (domain && domain[0] === void 0) domain[0] = domains[axis][0];\n        if (domain && domain[1] === void 0) domain[1] = domains[axis][1];\n\n        if (domain2 && domain2[0] === void 0) domain2[0] = domains[`${axis}2`][0];\n        if (domain2 && domain2[1] === void 0) domain2[1] = domains[`${axis}2`][1];\n      }\n\n      return [domain, scale, domain2, scale];\n\n    }\n\n    const [xAutoDomain, xScale, x2AutoDomain, x2Scale] = domainScaleSetup.bind(this)(\"x\");\n    const [yAutoDomain, yScale, y2AutoDomain, y2Scale] = domainScaleSetup.bind(this)(\"y\");\n\n    const autoScale = (axis, fallback) => {\n      const userScale = this[`_${axis}Config`].scale;\n      if (userScale === \"auto\") {\n        if (this._discrete === axis) return fallback;\n        const values = data.map(d => d[axis]);\n        return deviation(values) / mean(values) > 3 ? \"log\" : \"linear\";\n      }\n      return userScale || fallback;\n    };\n\n    const yConfigScale = this._yConfigScale = autoScale(\"y\", yScale).toLowerCase();\n    const y2ConfigScale = this._y2ConfigScale = autoScale(\"y2\", y2Scale).toLowerCase();\n    const xConfigScale = this._xConfigScale = autoScale(\"x\", xScale).toLowerCase();\n    const x2ConfigScale = this._x2ConfigScale = autoScale(\"x2\", x2Scale).toLowerCase();\n\n    domains = {x: xAutoDomain, x2: x2AutoDomain || xAutoDomain, y: yAutoDomain, y2: y2AutoDomain || yAutoDomain};\n    Object.keys(domains)\n      .forEach(axis => {\n        if (this[`_${axis}ConfigScale`] === \"log\" && domains[axis].includes(0)) {\n          if (min(domains[axis]) < 0) domains[axis][1] = max(data.map(d => d[axis]).filter(Boolean));\n          else domains[axis][0] = min(data.map(d => d[axis]).filter(Boolean));\n        }\n      });\n\n    opps.forEach(opp => {\n      if (this[`_${opp}Config`].domain) {\n        const d = this[`_${opp}Config`].domain;\n        if (this._discrete === \"x\") d.reverse();\n        domains[opp] = d;\n      }\n      else if (opp && this._baseline !== void 0) {\n        const b = this._baseline;\n        if (domains[opp] && domains[opp][0] > b) domains[opp][0] = b;\n        else if (domains[opp] && domains[opp][1] < b) domains[opp][1] = b;\n      }\n    });\n\n    let x = scales[`scale${xScale}`]().domain(domains.x).range(range(0, width + 1, width / (domains.x.length - 1))),\n        x2 = scales[`scale${x2Scale}`]().domain(domains.x2).range(range(0, width + 1, width / (domains.x2.length - 1))),\n        y = scales[`scale${yScale}`]().domain(domains.y.reverse()).range(range(0, height + 1, height / (domains.y.length - 1))),\n        y2 = scales[`scale${y2Scale}`]().domain(domains.y2.reverse()).range(range(0, height + 1, height / (domains.y2.length - 1)));\n\n    const shapeData = nest()\n      .key(d => d.shape)\n      .entries(data)\n      .sort((a, b) => this._shapeSort(a.key, b.key));\n\n    const oppScale = this._discrete === \"x\" ? yScale : xScale;\n    if (oppScale !== \"Point\") {\n      shapeData.forEach(d => {\n        if (this._buffer[d.key]) {\n          const res = this._buffer[d.key].bind(this)({data: d.values, x, y, yScale: yConfigScale, xScale: xConfigScale, config: this._shapeConfig[d.key]});\n          x = res[0];\n          y = res[1];\n          const res2 = this._buffer[d.key].bind(this)({data: d.values, x: x2, y: y2, yScale: y2ConfigScale, xScale: x2ConfigScale, x2: true, y2: true, config: this._shapeConfig[d.key]});\n          x2 = res2[0];\n          y2 = res2[1];\n        }\n      });\n    }\n\n    const xDomain = x.domain();\n    const x2Domain = x2.domain();\n    const yDomain = y.domain();\n    const y2Domain = y2.domain();\n\n    const defaultConfig = {\n      barConfig: {\"stroke-width\": 0},\n      gridSize: 0,\n      labels: [],\n      title: false,\n      tickSize: 0\n    };\n\n    const defaultX2Config = x2Exists ? {data: x2Time ? x2Data : []} : defaultConfig;\n    const defaultY2Config = y2Exists ? {data: y2Time ? y2Data : []} : defaultConfig;\n    const showX = this._discrete === \"x\" && this._width > this._discreteCutoff || this._width > this._xCutoff;\n    const showY = this._discrete === \"y\" && this._height > this._discreteCutoff || this._height > this._yCutoff;\n\n    const yC = {\n      data: yTime ? yData : [],\n      locale: this._locale,\n      scalePadding: y.padding ? y.padding() : 0\n    };\n    if (!showX) {\n      yC.barConfig = {stroke: \"transparent\"};\n      yC.tickSize = 0;\n      yC.shapeConfig = {\n        labelBounds: (d, i) => {\n          const {width, y} = d.labelBounds;\n          const height = this._height / 2;\n          const x = i ? -height : 0;\n          return {x, y, width, height};\n        },\n        labelConfig: {\n          padding: 0,\n          rotate: 0,\n          verticalAlign: d => d.id === yTicks[0] ? \"top\" : \"bottom\"\n        },\n        labelRotation: false\n      };\n    }\n\n    const testGroup = elem(\"g.d3plus-plot-test\", {enter: {opacity: 0}, parent: this._select});\n        \n    /**\n     * Hides an axis' ticks and labels if they all exist as labels for the data to be displayed,\n     * primarily occuring in simple BarChart visualizations where the both the x-axis ticks and\n     * the Bar rectangles would be displaying the same text.\n     */\n\n    // generates an Array of String labels using the current label function for Bar shapes\n    const barConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", \"Bar\");\n    const barLabelFunction = barConfig.label !== undefined\n      ? typeof barConfig.label === \"function\" ? barConfig.label : constant(barConfig.label)\n      : this._drawLabel;\n    const barLabels = this._filteredData.map((d, i) => barLabelFunction(d, i)).filter(d => typeof d === \"number\" || d).map(String);\n\n    // sets an axis' ticks to [] if the axis scale is \"Point\" (discrete) and every tick String\n    // is also in the barLabels Array\n    const x2Ticks = x2Scale === \"Point\" && x2Ticks instanceof Array && x2Ticks.every(t => barLabels.includes(`${t}`)) ? [] : undefined;\n    const xTicks = xScale === \"Point\" && xTicks instanceof Array && xTicks.every(t => barLabels.includes(`${t}`)) ? [] : undefined;\n    const y2Ticks = y2Scale === \"Point\" && y2Ticks instanceof Array && y2Ticks.every(t => barLabels.includes(`${t}`)) ? [] : undefined;\n    const yTicks = yScale === \"Point\" && yTicks instanceof Array && yTicks.every(t => barLabels.includes(`${t}`)) ? [] : undefined;\n\n    if (showY) {\n      this._yTest\n        .domain(yDomain)\n        .height(height)\n        .maxSize(width / 2)\n        .range([undefined, undefined])\n        .select(testGroup.node())\n        .ticks(yTicks)\n        .width(width)\n        .config(yC)\n        .config(this._yConfig)\n        .scale(yConfigScale)\n        .render();\n    }\n\n    let yBounds = this._yTest.outerBounds();\n    let yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n\n    if (y2Exists) {\n      this._y2Test\n        .domain(y2Domain)\n        .height(height)\n        .range([undefined, undefined])\n        .select(testGroup.node())\n        .ticks(y2Ticks)\n        .width(width)\n        .config(yC)\n        .config(defaultY2Config)\n        .config(this._y2Config)\n        .scale(y2ConfigScale)\n        .render();\n    }\n\n    let y2Bounds = this._y2Test.outerBounds();\n    let y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n    const xC = {\n      data: xTime ? xData : [],\n      locale: this._locale,\n      scalePadding: x.padding ? x.padding() : 0\n    };\n    if (!showY) {\n      xC.barConfig = {stroke: \"transparent\"};\n      xC.tickSize = 0;\n      xC.shapeConfig = {\n        labelBounds: (d, i) => {\n          const {height, y} = d.labelBounds;\n          const width = this._width / 2;\n          const x = i ? -width : 0;\n          return {x, y, width, height};\n        },\n        labelConfig: {\n          padding: 0,\n          rotate: 0,\n          textAnchor: d => d.id === xTicks[0] ? \"start\" : \"end\"\n        },\n        labelRotation: false\n      };\n    }\n\n    let xRangeMax = undefined;\n\n    if (showX) {\n      this._xTest\n        .domain(xDomain)\n        .height(height)\n        .maxSize(height / 2)\n        .range([undefined, xRangeMax])\n        .select(testGroup.node())\n        .ticks(xTicks)\n        .width(width)\n        .config(xC)\n        .config(this._xConfig)\n        .scale(xConfigScale)\n        .render();\n    }\n\n    let largestLabel;\n    if (this._lineLabels) {\n      const lineData = nest()\n        .key(d => d.id)\n        .entries(data.filter(d => d.shape === \"Line\"));\n\n      if (lineData.length) {\n\n        const userConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", \"Line\");\n        testLineShape.config(userConfig);\n        const lineLabelConfig = testLineShape.labelConfig();\n        const fontSizeAccessor = lineLabelConfig.fontSize !== undefined ? lineLabelConfig.fontSize : testTextBox.fontSize();\n        const fontWeightAccessor = lineLabelConfig.fontWeight !== undefined ? lineLabelConfig.fontWeight : testTextBox.fontWeight();\n        const fontFamilyAccessor = lineLabelConfig.fontFamily !== undefined ? lineLabelConfig.fontFamily : testTextBox.fontFamily();\n        const paddingAccessor = lineLabelConfig.padding !== undefined ? lineLabelConfig.padding : testTextBox.padding();\n        const labelFunction = userConfig.label || this._drawLabel;\n\n        const xEstimate = d => {\n          if (xConfigScale === \"log\" && d === 0) d = xDomain[0] < 0 ? this._xTest._d3Scale.domain()[1] : this._xTest._d3Scale.domain()[0];\n          return this._xTest._getPosition.bind(this._xTest)(d);\n        };\n\n        const maxX = max(lineData.map(group => max(group.values.map(d => xEstimate(d.x)))));\n\n        const labelWidths = lineData.map(group => {\n\n          let d = group.values[group.values.length - 1];\n          let i;\n          while (d.__d3plus__ && d.data) {\n            d = d.data;\n            i = d.i;\n          }\n          const label = typeof labelFunction === \"function\" ? labelFunction(d, i) : labelFunction;\n\n          const fontSize = typeof fontSizeAccessor === \"function\" ? fontSizeAccessor(d, i) : fontSizeAccessor;\n          const fontWeight = typeof fontWeightAccessor === \"function\" ? fontWeightAccessor(d, i) : fontWeightAccessor;\n          let fontFamily = typeof fontFamilyAccessor === \"function\" ? fontFamilyAccessor(d, i) : fontFamilyAccessor;\n          if (fontFamily instanceof Array) fontFamily = fontFamily.map(f => `'${f}'`).join(\", \");\n          const labelPadding = typeof paddingAccessor === \"function\" ? paddingAccessor(d, i) : paddingAccessor;\n\n          const labelWidth = textWidth(label, {\n            \"font-size\": fontSize,\n            \"font-family\": fontFamily,\n            \"font-weight\": fontWeight\n          });\n\n          const myMaxX = max(group.values.map(d => xEstimate(d.x)));\n\n          return {\n            labelWidth: labelWidth + labelPadding * 2,\n            spaceNeeded: myMaxX - maxX + labelWidth + labelPadding * 2\n          };\n\n        });\n        largestLabel = max(labelWidths.map(d => d.labelWidth));\n        const spaceNeeded = max(labelWidths.map(d => d.spaceNeeded));\n        const labelSpace = min([spaceNeeded, width / 4]);\n        xRangeMax = width - labelSpace - this._margin.right;\n      }\n    }\n\n    if (showX && xRangeMax) {\n      this._xTest\n        .domain(xDomain)\n        .height(height)\n        .maxSize(height / 2)\n        .range([undefined, xRangeMax])\n        .select(testGroup.node())\n        .ticks(xTicks)\n        .width(width)\n        .config(xC)\n        .config(this._xConfig)\n        .scale(xConfigScale)\n        .render();\n    }\n\n    if (x2Exists) {\n      this._x2Test\n        .domain(x2Domain)\n        .height(height)\n        .range([undefined, xRangeMax])\n        .select(testGroup.node())\n        .ticks(x2Ticks)\n        .width(width)\n        .config(xC)\n        .tickSize(0)\n        .config(defaultX2Config)\n        .config(this._x2Config)\n        .scale(x2ConfigScale)\n        .render();\n    }\n\n    const xTestRange = this._xTest._getRange();\n    const x2TestRange = this._x2Test._getRange();\n\n    const x2Bounds = this._x2Test.outerBounds();\n    const x2Height = x2Exists ? x2Bounds.height + this._x2Test.padding() : 0;\n\n    let xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n    if (showX) {\n      this._xTest\n        .range([xOffsetLeft, undefined])\n        .render();\n    }\n\n    const topOffset = showY ? this._yTest.shapeConfig().labelConfig.fontSize() / 2 : 0;\n\n    let xOffsetRight = max([y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n    const xBounds = this._xTest.outerBounds();\n    const xHeight = xBounds.height + (showY ? this._xTest.padding() : 0);\n\n    this._padding.left += xOffsetLeft;\n    this._padding.right += xOffsetRight;\n    this._padding.bottom += xHeight;\n    this._padding.top += x2Height + topOffset;\n\n    super._draw(callback);\n\n    const horizontalMargin = this._margin.left + this._margin.right;\n    const verticalMargin = this._margin.top + this._margin.bottom;\n    let yRange = [x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n    if (showY) {\n      this._yTest\n        .domain(yDomain)\n        .height(height)\n        .maxSize(width / 2)\n        .range(yRange)\n        .select(testGroup.node())\n        .ticks(yTicks)\n        .width(width)\n        .config(yC)\n        .config(this._yConfig)\n        .scale(yConfigScale)\n        .render();\n    }\n\n    yBounds = this._yTest.outerBounds();\n    yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n    xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n    if (y2Exists) {\n      this._y2Test\n        .config(yC)\n        .domain(y2Domain)\n        .gridSize(0)\n        .height(height)\n        .range(yRange)\n        .select(testGroup.node())\n        .width(width - max([0, xOffsetRight - y2Width]))\n        .title(false)\n        .config(this._y2Config)\n        .config(defaultY2Config)\n        .scale(y2ConfigScale)\n        .render();\n    }\n\n    y2Bounds = this._y2Test.outerBounds();\n    y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n    xOffsetRight = max([0, y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n    const xRange = [xOffsetLeft, width - (xOffsetRight + horizontalMargin)];\n\n    const rectGroup = elem(\"g.d3plus-plot-background\", {parent, transition});\n\n    const transform = `translate(${this._margin.left}, ${this._margin.top + x2Height + topOffset})`;\n    const x2Transform = `translate(${this._margin.left}, ${this._margin.top + topOffset})`;\n\n    const xGroup = showX && elem(\"g.d3plus-plot-x-axis\", {parent, transition, enter: {transform}, update: {transform}});\n    const x2Group = x2Exists && elem(\"g.d3plus-plot-x2-axis\", {parent, transition, enter: {transform: x2Transform}, update: {transform: x2Transform}});\n\n    const xTrans = xOffsetLeft > yWidth ? xOffsetLeft - yWidth : 0;\n    const yTransform = `translate(${this._margin.left + xTrans}, ${this._margin.top + topOffset})`;\n    const yGroup = showY && elem(\"g.d3plus-plot-y-axis\", {parent, transition, enter: {transform: yTransform}, update: {transform: yTransform}});\n\n    const y2Transform = `translate(-${this._margin.right}, ${this._margin.top + topOffset})`;\n    const y2Group = y2Exists && elem(\"g.d3plus-plot-y2-axis\", {parent, transition, enter: {transform: y2Transform}, update: {transform: y2Transform}});\n\n    this._xAxis\n      .domain(xDomain)\n      .height(height - (x2Height + topOffset + verticalMargin))\n      .maxSize(height / 2)\n      .range(xRange)\n      .select(showX ? xGroup.node() : undefined)\n      .ticks(xTicks)\n      .width(width)\n      .config(xC)\n      .config(this._xConfig)\n      .scale(xConfigScale)\n      .render();\n\n    if (x2Exists) {\n      this._x2Axis\n        .domain(x2Domain)\n        .height(height - (xHeight + topOffset + verticalMargin))\n        .range(xRange)\n        .select(x2Group.node())\n        .ticks(x2Ticks)\n        .width(width)\n        .config(xC)\n        .config(defaultX2Config)\n        .config(this._x2Config)\n        .scale(x2ConfigScale)\n        .render();\n    }\n\n    this._xFunc = x = (d, x) => {\n      if (x === \"x2\") {\n        if (x2ConfigScale === \"log\" && d === 0) d = x2Domain[0] < 0 ? this._x2Axis._d3Scale.domain()[1] : this._x2Axis._d3Scale.domain()[0];\n        return this._x2Axis._getPosition.bind(this._x2Axis)(d);\n      }\n      else {\n        if (xConfigScale === \"log\" && d === 0) d = xDomain[0] < 0 ? this._xAxis._d3Scale.domain()[1] : this._xAxis._d3Scale.domain()[0];\n        return this._xAxis._getPosition.bind(this._xAxis)(d);\n      }\n    };\n\n    yRange = [this._xAxis.outerBounds().y + x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n    this._yAxis\n      .domain(yDomain)\n      .height(height)\n      .maxSize(width / 2)\n      .range(yRange)\n      .select(showY ? yGroup.node() : undefined)\n      .ticks(yTicks)\n      .width(xRange[xRange.length - 1])\n      .config(yC)\n      .config(this._yConfig)\n      .scale(yConfigScale)\n      .render();\n\n    if (y2Exists) {\n      this._y2Axis\n        .config(yC)\n        .domain(y2Exists ? y2Domain : yDomain)\n        .gridSize(0)\n        .height(height)\n        .range(yRange)\n        .select(y2Group.node())\n        .width(width - max([0, xOffsetRight - y2Width]))\n        .title(false)\n        .config(this._y2Config)\n        .config(defaultY2Config)\n        .scale(y2ConfigScale)\n        .render();\n    }\n\n    this._yFunc = y = (d, y) => {\n      if (y === \"y2\") {\n        if (y2ConfigScale === \"log\" && d === 0) d = y2Domain[1] < 0 ? this._y2Axis._d3ScaleNegative.domain()[0] : this._y2Axis._d3Scale.domain()[1];\n        return this._y2Axis._getPosition.bind(this._y2Axis)(d) - x2Height;\n      }\n      else {\n        if (yConfigScale === \"log\" && d === 0) d = yDomain[1] < 0 ? this._yAxis._d3ScaleNegative.domain()[0] : this._yAxis._d3Scale.domain()[1];\n        return this._yAxis._getPosition.bind(this._yAxis)(d) - x2Height;\n      }\n    };\n\n    new shapes.Rect()\n      .data([{}])\n      .select(rectGroup.node())\n      .x(xRange[0] + (xRange[1] - xRange[0]) / 2)\n      .width(xRange[1] - xRange[0])\n      .y(this._margin.top + topOffset + yRange[0] + (yRange[1] - yRange[0]) / 2)\n      .height(yRange[1] - yRange[0])\n      .config(this._backgroundConfig)\n      .render();\n\n    const annotationGroup = elem(\"g.d3plus-plot-annotations\", {parent, transition, enter: {transform}, update: {transform}}).node();\n    const annotationShapes = this._annotations.map(d => d.shape);\n    this._annotations.forEach(annotation => {\n      new shapes[annotation.shape]()\n        .config(annotation)\n        .config({\n          x: d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n          x0: this._discrete === \"x\" ? d => d.x2 ? x(d.x2, \"x2\") : x(d.x) : x(domains.x[0]),\n          x1: this._discrete === \"x\" ? null : d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n          y: d => d.y2 ? y(d.y2, \"y2\") : y(d.y),\n          y0: this._discrete === \"y\" ? d => d.y2 ? y(d.y2, \"y2\") : y(d.y) : y(domains.y[1]) - yOffset,\n          y1: this._discrete === \"y\" ? null : d => d.y2 ? y(d.y2, \"y2\") : y(d.y) - yOffset\n        })\n        .select(annotationGroup)\n        .render();\n    });\n\n    const exitAnnotations = this._previousAnnotations.filter(d => !annotationShapes.includes(d));\n\n    exitAnnotations.forEach(shape => {\n      new shapes[shape]()\n        .data([])\n        .select(annotationGroup)\n        .render();\n    });\n\n    this._previousAnnotations = annotationShapes;\n\n    let yOffset = this._xAxis.barConfig()[\"stroke-width\"];\n    if (yOffset) yOffset /= 2;\n\n    const discrete = this._discrete || \"x\";\n\n    const shapeConfig = {\n      discrete: this._discrete,\n      duration: this._duration,\n      label: d => this._drawLabel(d.data, d.i),\n      select: elem(\"g.d3plus-plot-shapes\", {parent, transition, enter: {transform}, update: {transform}}).node(),\n      x: d => d.x2 !== undefined ? x(d.x2, \"x2\") : x(d.x),\n      x0: discrete === \"x\" ? d => d.x2 ? x(d.x2, \"x2\") : x(d.x) : x(typeof this._baseline === \"number\" ? this._baseline : domains.x[0]),\n      x1: discrete === \"x\" ? null : d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n      y: d => d.y2 !== undefined ? y(d.y2, \"y2\") : y(d.y),\n      y0: discrete === \"y\" ? d => d.y2 ? y(d.y2, \"y2\") : y(d.y) : y(typeof this._baseline === \"number\" ? this._baseline : domains.y[1]) - yOffset,\n      y1: discrete === \"y\" ? null : d => d.y2 ? y(d.y2, \"y2\") : y(d.y) - yOffset\n    };\n\n    const events = Object.keys(this._on);\n    shapeData.forEach(d => {\n\n      const shapeConfigInner = Object.assign({}, shapeConfig);\n\n      if (this._stacked && [\"Area\", \"Bar\"].includes(d.key)) {\n        const scale = opp === \"x\" ? x : y;\n        shapeConfigInner[`${opp}`] = shapeConfigInner[`${opp}0`] = d => {\n          const dataIndex = stackKeys.indexOf(d.id),\n                discreteIndex = discreteKeys.indexOf(d.discrete);\n          return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][0]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n        };\n        shapeConfigInner[`${opp}1`] = d => {\n          const dataIndex = stackKeys.indexOf(d.id),\n                discreteIndex = discreteKeys.indexOf(d.discrete);\n          return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][1]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n        };\n      }\n\n      const s = new shapes[d.key]().config(shapeConfigInner).data(d.values);\n\n      if (d.key === \"Bar\") {\n\n        let space;\n        const scale = this._discrete === \"x\" ? x : y;\n        const scaleType = this._discrete === \"x\" ? xScale : yScale;\n        const vals = this._discrete === \"x\" ? xDomain : yDomain;\n        const range = this._discrete === \"x\" ? xRange : yRange;\n        if (scaleType !== \"Point\" && vals.length === 2) {\n          const allPositions = Array.from(new Set(d.values.map(d => scale(d[this._discrete]))));\n          space = allPositions.reduce((n, d, i, arr) => {\n            if (i) {\n              const dist = Math.abs(d - arr[i - 1]);\n              if (dist < n) n = dist;\n            }\n            return n;\n          }, Infinity);\n        }\n        else if (vals.length > 1) space = scale(vals[1]) - scale(vals[0]);\n        else space = range[range.length - 1] - range[0];\n        if (this._groupPadding < space) space -= this._groupPadding;\n\n        let barSize = space || 1;\n        \n        const groups = nest()\n          .key(d => d[this._discrete])\n          .key(d => d.group)\n          .entries(d.values);\n\n        const ids = merge(groups.map(d => d.values.map(v => v.key)));\n        const uniqueIds = Array.from(new Set(ids));\n\n        if (max(groups.map(d => d.values.length)) === 1) {\n          s[this._discrete]((d, i) => shapeConfig[this._discrete](d, i));\n        }\n        else {\n\n          barSize = (barSize - this._barPadding * uniqueIds.length - 1) / uniqueIds.length;\n\n          const offset = space / 2 - barSize / 2;\n\n          const xMod = scales.scaleLinear()\n            .domain([0, uniqueIds.length - 1])\n            .range([-offset, offset]);\n\n          s[this._discrete]((d, i) => shapeConfig[this._discrete](d, i) + xMod(uniqueIds.indexOf(d.group)));\n\n        }\n\n        s.width(barSize);\n        s.height(barSize);\n\n      }\n      else if (d.key === \"Line\") {\n\n        s.duration(width * 1.5);\n\n        if (this._confidence) {\n          const areaConfig = Object.assign({}, shapeConfig);\n          const discrete = this._discrete || \"x\";\n          const key = discrete === \"x\" ? \"y\" : \"x\";\n          const scaleFunction = discrete === \"x\" ? y : x;\n          areaConfig[`${key}0`] = d => scaleFunction(this._confidence[0] ? d.lci : d[key]);\n          areaConfig[`${key}1`] = d => scaleFunction(this._confidence[1] ? d.hci : d[key]);\n\n          const area = new shapes.Area().config(areaConfig).data(d.values);\n          const confidenceConfig = Object.assign(this._shapeConfig, this._confidenceConfig);\n\n          area\n            .config(assign(configPrep.bind(this)(confidenceConfig, \"shape\", \"Line\"), configPrep.bind(this)(confidenceConfig, \"shape\", \"Area\")))\n            .render();\n\n          this._shapes.push(area);\n        }\n\n        s.config({\n          discrete: shapeConfig.discrete || \"x\",\n          label: this._lineLabels ? this._drawLabel : false,\n          labelBounds: this._lineLabels ? (d, i, s) => {\n            const [firstX, firstY] = s.points[0];\n            const [lastX, lastY] = s.points[s.points.length - 1];\n            const height = this._height / 4;\n            return {\n              x: lastX - firstX,\n              y: lastY - firstY - height / 2,\n              width: largestLabel,\n              height\n            };\n          } : false\n        });\n\n      }\n\n      const classEvents = events.filter(e => e.includes(`.${d.key}`)),\n            globalEvents = events.filter(e => !e.includes(\".\")),\n            shapeEvents = events.filter(e => e.includes(\".shape\"));\n      for (let e = 0; e < globalEvents.length; e++) s.on(globalEvents[e], (d, i, x, event) => this._on[globalEvents[e]](d.data, d.i, x, event));\n      for (let e = 0; e < shapeEvents.length; e++) s.on(shapeEvents[e], (d, i, x, event) => this._on[shapeEvents[e]](d.data, d.i, x, event));\n      for (let e = 0; e < classEvents.length; e++) s.on(classEvents[e], (d, i, x, event) => this._on[classEvents[e]](d.data, d.i, x, event));\n\n      const userConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", d.key);\n      if (this._shapeConfig.duration === undefined) delete userConfig.duration;\n      s.config(userConfig).render();\n\n      this._shapes.push(s);\n\n      if (d.key === \"Line\") {\n        const markers = new shapes.Circle()\n          .data(this._lineMarkers ? d.values : [])\n          .config(shapeConfig)\n          .config(this._lineMarkerConfig)\n          .id(d => `${d.id}_${d.discrete}`);\n\n        for (let e = 0; e < globalEvents.length; e++) markers.on(globalEvents[e], (d, i, x, event) => this._on[globalEvents[e]](d.data, d.i, x, event));\n        for (let e = 0; e < shapeEvents.length; e++) markers.on(shapeEvents[e], (d, i, x, event) => this._on[shapeEvents[e]](d.data, d.i, x, event));\n        for (let e = 0; e < classEvents.length; e++) markers.on(classEvents[e], (d, i, x, event) => this._on[classEvents[e]](d.data, d.i, x, event));\n\n        markers.render();\n        this._shapes.push(markers);\n      }\n\n    });\n\n    const dataShapes = shapeData.map(d => d.key);\n    if (dataShapes.includes(\"Line\")) {\n      if (this._confidence) dataShapes.push(\"Area\");\n      if (this._lineMarkers) dataShapes.push(\"Circle\");\n    }\n    const exitShapes = this._previousShapes.filter(d => !dataShapes.includes(d));\n\n    exitShapes.forEach(shape => {\n      new shapes[shape]()\n        .config(shapeConfig)\n        .data([])\n        .render();\n    });\n\n    this._previousShapes = dataShapes;\n\n    return this;\n\n  }\n\n  /**\n      @memberof Plot\n      @desc Allows drawing custom shapes to be used as annotations in the provided x/y plot. This method accepts custom config objects for the [Shape](http://d3plus.org/docs/#Shape) class, either a single config object or an array of config objects. Each config object requires an additional parameter, the \"shape\", which denotes which [Shape](http://d3plus.org/docs/#Shape) sub-class to use ([Rect](http://d3plus.org/docs/#Rect), [Line](http://d3plus.org/docs/#Line), etc). Annotations will be drawn underneath the data to be displayed.\n      @param {Array|Object} *annotations* = []\n      @chainable\n  */\n  annotations(_) {\n    return arguments.length ? (this._annotations = _ instanceof Array ? _ : [_], this) : this._annotations;\n  }\n\n  /**\n       @memberof Plot\n       @desc A d3plus-shape configuration Object used for styling the background rectangle of the inner x/y plot (behind all of the shapes and gridlines).\n       @param {Object} [*value*]\n       @chainable\n   */\n  backgroundConfig(_) {\n    return arguments.length ? (this._backgroundConfig = assign(this._backgroundConfig, _), this) : this._backgroundConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the pixel space between each bar in a group of bars.\n      @param {Number} *value* = 0\n      @chainable\n  */\n  barPadding(_) {\n    return arguments.length ? (this._barPadding = _, this) : this._barPadding;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the baseline for the x/y plot. If *value* is not specified, returns the current baseline.\n      @param {Number} *value*\n      @chainable\n  */\n  baseline(_) {\n    return arguments.length ? (this._baseline = _, this) : this._baseline;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the confidence to the specified array of lower and upper bounds.\n       @param {String[]|Function[]} *value*\n       @chainable\n       @example <caption>Can be called with accessor functions or static keys:</caption>\n       var data = {id: \"alpha\", value: 10, lci: 9, hci: 11};\n       ...\n       // Accessor functions\n       .confidence([function(d) { return d.lci }, function(d) { return d.hci }])\n\n       // Or static keys\n       .confidence([\"lci\", \"hci\"])\n   */\n  confidence(_) {\n    if (arguments.length && _ instanceof Array) {\n      this._confidence = [];\n      const lower = _[0];\n      this._confidence[0] = typeof lower === \"function\" || !lower ? lower : accessor(lower);\n      const upper = _[1];\n      this._confidence[1] = typeof upper === \"function\" || !upper ? upper : accessor(upper);\n\n      return this;\n    }\n    else return this._confidence;\n  }\n\n  /**\n       @memberof Plot\n       @desc If *value* is specified, sets the config method for each shape rendered as a confidence interval and returns the current class instance.\n       @param {Object} [*value*]\n       @chainable\n   */\n  confidenceConfig(_) {\n    return arguments.length ? (this._confidenceConfig = assign(this._confidenceConfig, _), this) : this._confidenceConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the discrete axis to the specified string. If *value* is not specified, returns the current discrete axis.\n      @param {String} *value*\n      @chainable\n  */\n  discrete(_) {\n    return arguments.length ? (this._discrete = _, this) : this._discrete;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the width or height of the chart is less than or equal to this pixel value, the discrete axis will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  discreteCutoff(_) {\n    return arguments.length ? (this._discreteCutoff = _, this) : this._discreteCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the pixel space between groups of bars.\n      @param {Number} [*value* = 5]\n      @chainable\n  */\n  groupPadding(_) {\n    return arguments.length ? (this._groupPadding = _, this) : this._groupPadding;\n  }\n\n  /**\n      @memberof Plot\n      @desc Draws labels on the right side of any Line shapes that are drawn on the plot.\n      @param {Boolean} [*value* = false]\n      @chainable\n  */\n  lineLabels(_) {\n    return arguments.length ? (this._lineLabels = _, this) : this._lineLabels;\n  }\n\n  /**\n      @memberof Plot\n      @desc Shape config for the Circle shapes drawn by the lineMarkers method.\n      @param {Object} *value*\n      @chainable\n  */\n  lineMarkerConfig(_) {\n    return arguments.length ? (this._lineMarkerConfig = assign(this._lineMarkerConfig, _), this) : this._lineMarkerConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc Draws circle markers on each vertex of a Line.\n      @param {Boolean} [*value* = false]\n      @chainable\n  */\n  lineMarkers(_) {\n    return arguments.length ? (this._lineMarkers = _, this) : this._lineMarkers;\n  }\n\n  /**\n      @memberof Plot\n      @desc A JavaScript [sort comparator function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) that receives each shape Class (ie. \"Circle\", \"Line\", etc) as it's comparator arguments. Shapes are drawn in groups based on their type, so you are defining the layering order for all shapes of said type.\n      @param {Function} *value*\n      @chainable\n  */\n  shapeSort(_) {\n    return arguments.length ? (this._shapeSort = _, this) : this._shapeSort;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size of bubbles to the given Number, data key, or function.\n      @param {Function|Number|String} *value* = 10\n      @chainable\n  */\n  size(_) {\n    return arguments.length ? (this._size = typeof _ === \"function\" || !_ ? _ : accessor(_), this) : this._size;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale maximum to the specified number.\n      @param {Number} *value* = 20\n      @chainable\n  */\n  sizeMax(_) {\n    return arguments.length ? (this._sizeMax = _, this) : this._sizeMax;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale minimum to the specified number.\n      @param {Number} *value* = 5\n      @chainable\n  */\n  sizeMin(_) {\n    return arguments.length ? (this._sizeMin = _, this) : this._sizeMin;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale to the specified string.\n      @param {String} *value* = \"sqrt\"\n      @chainable\n  */\n  sizeScale(_) {\n    return arguments.length ? (this._sizeScale = _, this) : this._sizeScale;\n  }\n\n  /**\n      @memberof Plot\n      @desc If *value* is specified, toggles shape stacking. If *value* is not specified, returns the current stack value.\n      @param {Boolean} *value* = false\n      @chainable\n  */\n  stacked(_) {\n    return arguments.length ? (this._stacked = _, this) : this._stacked;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the stack offset. If *value* is not specified, returns the current stack offset function.\n      @param {Function|String} *value* = \"descending\"\n      @chainable\n  */\n  stackOffset(_) {\n    return arguments.length ? (this._stackOffset = typeof _ === \"function\" ? _ : d3Shape[`stackOffset${_.charAt(0).toUpperCase() + _.slice(1)}`], this) : this._stackOffset;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the stack order. If *value* is not specified, returns the current stack order function.\n      @param {Function|String|Array} *value* = \"none\"\n      @chainable\n  */\n  stackOrder(_) {\n    if (arguments.length) {\n      if (typeof _ === \"string\") this._stackOrder = _ === \"ascending\" ? stackOrderAscending : _ === \"descending\" ? stackOrderDescending : d3Shape[`stackOrder${_.charAt(0).toUpperCase() + _.slice(1)}`];\n      else this._stackOrder = _;\n      return this;\n    }\n    else return this._stackOrder;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the x accessor to the specified function or number. If *value* is not specified, returns the current x accessor.\n      @param {Function|Number} *value*\n      @chainable\n  */\n  x(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._x = _;\n      else {\n        this._x = accessor(_);\n        this._xKey = _;\n      }\n      return this;\n    }\n    else return this._x;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the x2 accessor to the specified function or number. If *value* is not specified, returns the current x2 accessor.\n       @param {Function|Number} *value*\n       @chainable\n   */\n  x2(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._x2 = _;\n      else {\n        this._x2 = accessor(_);\n        this._x2Key = _;\n      }\n      return this;\n    }\n    else return this._x2;\n  }\n\n  /**\n      @memberof Plot\n      @desc A pass-through to the underlying [Axis](http://d3plus.org/docs/#Axis) config used for the x-axis. Includes additional functionality where passing \"auto\" as the value for the [scale](http://d3plus.org/docs/#Axis.scale) method will determine if the scale should be \"linear\" or \"log\" based on the provided data.\n      @param {Object} *value*\n      @chainable\n  */\n  xConfig(_) {\n    return arguments.length ? (this._xConfig = assign(this._xConfig, _), this) : this._xConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the width of the chart is less than or equal to this pixel value, and the x-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  xCutoff(_) {\n    return arguments.length ? (this._xCutoff = _, this) : this._xCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc A pass-through to the underlying [Axis](http://d3plus.org/docs/#Axis) config used for the secondary x-axis. Includes additional functionality where passing \"auto\" as the value for the [scale](http://d3plus.org/docs/#Axis.scale) method will determine if the scale should be \"linear\" or \"log\" based on the provided data.\n      @param {Object} *value*\n      @chainable\n  */\n  x2Config(_) {\n    return arguments.length ? (this._x2Config = assign(this._x2Config, _), this) : this._x2Config;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the x domain to the specified array. If *value* is not specified, returns the current x domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n      @param {Array} *value*\n      @chainable\n  */\n  xDomain(_) {\n    return arguments.length ? (this._xDomain = _, this) : this._xDomain;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the x2 domain to the specified array. If *value* is not specified, returns the current x2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n       @param {Array} *value*\n       @chainable\n   */\n  x2Domain(_) {\n    return arguments.length ? (this._x2Domain = _, this) : this._x2Domain;\n  }\n\n  /**\n      @memberof Plot\n      @desc Defines a custom sorting comparitor function to be used for discrete x axes.\n      @param {Function} *value*\n      @chainable\n  */\n  xSort(_) {\n    return arguments.length ? (this._xSort = _, this) : this._xSort;\n  }\n\n  /**\n       @memberof Plot\n       @desc Defines a custom sorting comparitor function to be used for discrete x2 axes.\n       @param {Function} *value*\n       @chainable\n   */\n  x2Sort(_) {\n    return arguments.length ? (this._x2Sort = _, this) : this._x2Sort;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the y accessor to the specified function or number. If *value* is not specified, returns the current y accessor.\n      @param {Function|Number} *value*\n      @chainable\n  */\n  y(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._y = _;\n      else {\n        this._y = accessor(_);\n        this._yKey = _;\n      }\n      return this;\n    }\n    else return this._y;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the y2 accessor to the specified function or number. If *value* is not specified, returns the current y2 accessor.\n       @param {Function|Number} *value*\n       @chainable\n   */\n  y2(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._y2 = _;\n      else {\n        this._y2 = accessor(_);\n        this._y2Key = _;\n      }\n      return this;\n    }\n    else return this._y2;\n  }\n\n  /**\n      @memberof Plot\n      @desc A pass-through to the underlying [Axis](http://d3plus.org/docs/#Axis) config used for the y-axis. Includes additional functionality where passing \"auto\" as the value for the [scale](http://d3plus.org/docs/#Axis.scale) method will determine if the scale should be \"linear\" or \"log\" based on the provided data.\n\n*Note:* If a \"domain\" array is passed to the y-axis config, it will be reversed.\n      @param {Object} *value*\n      @chainable\n  */\n  yConfig(_) {\n    if (arguments.length) {\n      if (_.domain) _.domain = _.domain.slice().reverse();\n      this._yConfig = assign(this._yConfig, _);\n      return this;\n    }\n    return this._yConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the height of the chart is less than or equal to this pixel value, and the y-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  yCutoff(_) {\n    return arguments.length ? (this._yCutoff = _, this) : this._yCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc A pass-through to the underlying [Axis](http://d3plus.org/docs/#Axis) config used for the secondary y-axis. Includes additional functionality where passing \"auto\" as the value for the [scale](http://d3plus.org/docs/#Axis.scale) method will determine if the scale should be \"linear\" or \"log\" based on the provided data.\n      @param {Object} *value*\n      @chainable\n  */\n  y2Config(_) {\n    if (arguments.length) {\n      if (_.domain) _.domain = _.domain.slice().reverse();\n      this._y2Config = assign(this._y2Config, _);\n      return this;\n    }\n    return this._y2Config;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the y domain to the specified array. If *value* is not specified, returns the current y domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n      @param {Array} *value*\n      @chainable\n  */\n  yDomain(_) {\n    return arguments.length ? (this._yDomain = _, this) : this._yDomain;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the y2 domain to the specified array. If *value* is not specified, returns the current y2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n       @param {Array} *value*\n       @chainable\n   */\n  y2Domain(_) {\n    return arguments.length ? (this._y2Domain = _, this) : this._y2Domain;\n  }\n\n  /**\n      @memberof Plot\n      @desc Defines a custom sorting comparitor function to be used for discrete y axes.\n      @param {Function} *value*\n      @chainable\n  */\n  ySort(_) {\n    return arguments.length ? (this._ySort = _, this) : this._ySort;\n  }\n\n  /**\n       @memberof Plot\n       @desc Defines a custom sorting comparitor function to be used for discrete y2 axes.\n       @param {Function} *value*\n       @chainable\n   */\n  y2Sort(_) {\n    return arguments.length ? (this._y2Sort = _, this) : this._y2Sort;\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot.js\";\n\n/**\n    @class AreaPlot\n    @extends Plot\n    @desc Creates an area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Area\")\n*/\nexport default class AreaPlot extends Plot {\n\n  /**\n      @memberof AreaPlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._baseline = 0;\n    this._discrete = \"x\";\n    this._shape = constant(\"Area\");\n    this.x(\"x\");\n\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot.js\";\n\n/**\n    @class BarChart\n    @extends Plot\n    @desc Creates a bar chart based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Bar\")\n*/\nexport default class BarChart extends Plot {\n\n  /**\n      @memberof BarChart\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._baseline = 0;\n    this._discrete = \"x\";\n    const defaultLegend = this._legend;\n    this._legend = (config, arr) => {\n      const legendIds = arr.map(this._groupBy[this._legendDepth].bind(this)).sort().join();\n      const barIds = this._filteredData.map(this._groupBy[this._legendDepth].bind(this)).sort().join();\n      if (legendIds === barIds) return false;\n      return defaultLegend.bind(this)(config, arr);\n    };\n    this._shape = constant(\"Bar\");\n    this.x(\"x\");\n\n  }\n\n}\n","import {assign, constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot.js\";\n\n/**\n    @class BoxWhisker\n    @extends Plot\n    @desc Creates a simple box and whisker based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Box\")\n*/\nexport default class BoxWhisker extends Plot {\n\n  /**\n      @memberof BoxWhisker\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Box\");\n    this.x(\"x\");\n\n    this._tooltipConfig = assign(this._tooltipConfig, {\n      title: (d, i) => {\n        if (!d) return \"\";\n        while (d.__d3plus__ && d.data) {\n          d = d.data;\n          i = d.i;\n        }\n        if (this._label) return this._label(d, i);\n        const l = this._ids(d, i).slice(0, this._drawDepth);\n        return l[l.length - 1];\n      }\n    });\n\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot.js\";\n\n/**\n    @class BumpChart\n    @extends Plot\n    @desc Creates a bump chart based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Line\")\n  .x(\"x\")\n  .y2(d => this._y(d))\n  .yConfig({\n    tickFormat: val => {\n      const data = this._formattedData;\n      const xDomain = this._xDomain;\n      const startData = data.filter(d => d.x === xDomain[0]);\n      const d = startData.find(d => d.y === val);\n      return this._drawLabel(d, d.i);\n     }\n   })\n  .y2Config({\n    tickFormat: val => {\n      const data = this._formattedData;\n      const xDomain = this._xDomain;\n      const endData = data.filter(d => d.x === xDomain[xDomain.length - 1]);\n      const d = endData.find(d => d.y === val);\n      return this._drawLabel(d, d.i);\n     }\n   })\n  .ySort((a, b) => b.y - a.y)\n  .y2Sort((a, b) => b.y - a.y)\n*/\nexport default class BumpChart extends Plot {\n\n  /**\n      @memberof BumpChart\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Line\");\n    this.x(\"x\");\n    this.y2(d => this._y(d));\n\n    this.yConfig({\n      tickFormat: val => {\n        const data = this._formattedData;\n        const xMin = data[0].x instanceof Date ? data[0].x.getTime() : data[0].x;\n        const startData = data.filter(d => (d.x instanceof Date ? d.x.getTime() : d.x) === xMin);\n        const d = startData.find(d => d.y === val);\n        return d ? this._drawLabel(d, d.i) : \"\";\n      }\n    });\n    this.y2Config({\n      tickFormat: val => {\n        const data = this._formattedData;\n        const xMax = data[data.length - 1].x instanceof Date ? data[data.length - 1].x.getTime() : data[data.length - 1].x;\n        const endData = data.filter(d => (d.x instanceof Date ? d.x.getTime() : d.x) === xMax);\n        const d = endData.find(d => d.y === val);\n        return d ? this._drawLabel(d, d.i) : \"\";\n      }\n    });\n    this.ySort((a, b) => this._y(b) - this._y(a));\n    this.y2Sort((a, b) => this._y(b) - this._y(a));\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot.js\";\n\n/**\n    @class LinePlot\n    @extends Plot\n    @desc Creates a line plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Line\")\n*/\nexport default class LinePlot extends Plot {\n\n  /**\n      @memberof LinePlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Line\");\n    this.x(\"x\");\n\n  }\n\n}\n","/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\n\nimport {min, max, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport {pointer} from \"d3-selection\";\nimport {accessor, assign, configPrep, constant, elem, merge} from \"d3plus-common\";\nimport {Circle, Path, Rect} from \"d3plus-shape\";\nimport {Viz} from \"d3plus-viz\";\n\nconst tau = Math.PI * 2;\n\n/**\n    @class Radar\n    @extends Viz\n    @desc Creates a radar visualization based on an array of data.\n*/\nexport default class Radar extends Viz {\n\n  /**\n      @memberof Radar\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Viz.\n      @private\n  */\n  constructor() {\n    super();\n\n    this._axisConfig = {\n      shapeConfig: {\n        fill: constant(\"none\"),\n        labelConfig: {\n          fontColor: \"#999\",\n          padding: 0,\n          textAnchor: (d, i, x) => x.textAnchor,\n          verticalAlign: \"middle\"\n        },\n        stroke: \"#eee\",\n        strokeWidth: constant(1)\n      }\n    };\n    this._discrete = \"metric\";\n    this._levels = 6;\n    this._metric = accessor(\"metric\");\n    this._outerPadding = 100;\n    this._shape = constant(\"Path\");\n    this._value = accessor(\"value\");\n  }\n\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n  _draw(callback) {\n    super._draw(callback);\n    const height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n\n    const radius = min([height, width]) / 2 - this._outerPadding,\n          transform = `translate(${width / 2}, ${height / 2})`;\n\n    const nestedAxisData = nest()\n        .key(this._metric)\n        .entries(this._filteredData),\n          nestedGroupData = nest()\n        .key(this._id)\n        .key(this._metric)\n        .entries(this._filteredData);\n\n    const maxValue = max(nestedGroupData.map(h => h.values.map(d => sum(d.values, (x, i) => this._value(x, i)))).flat());\n\n    const circularAxis = Array.from(Array(this._levels).keys()).map(d => ({\n      id: d,\n      r: radius * ((d + 1) / this._levels)\n    }));\n\n    const circleConfig = configPrep.bind(this)(this._axisConfig.shapeConfig, \"shape\", \"Circle\");\n    delete circleConfig.label;\n\n    new Circle()\n      .data(circularAxis)\n      .select(\n        elem(\"g.d3plus-Radar-radial-circles\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .config(circleConfig)\n      .render();\n\n    const totalAxis = nestedAxisData.length;\n    const polarAxis = nestedAxisData\n      .map((d, i) => {\n        const width = this._outerPadding;\n        const fontSize =\n          this._shapeConfig.labelConfig.fontSize &&\n            this._shapeConfig.labelConfig.fontSize(d, i) ||\n          11;\n\n        const lineHeight = fontSize * 1.4;\n        const height = lineHeight * 2;\n        const padding = 10,\n              quadrant = parseInt(360 - 360 / totalAxis * i / 90, 10) % 4 + 1,\n              radians = tau / totalAxis * i;\n\n        let angle = 360 / totalAxis * i;\n\n        let textAnchor = \"start\";\n        let x = padding;\n\n        if (quadrant === 2 || quadrant === 3) {\n          x = -width - padding;\n          textAnchor = \"end\";\n          angle += 180;\n        }\n\n        const labelBounds = {\n          x,\n          y: -height / 2,\n          width,\n          height\n        };\n\n        return {\n          __d3plus__: true,\n          data: merge(d.values, this._aggs),\n          i,\n          id: d.key,\n          angle,\n          textAnchor,\n          labelBounds,\n          rotateAnchor: [-x, height / 2],\n          x: radius * Math.cos(radians),\n          y: radius * Math.sin(radians)\n        };\n      })\n      .sort((a, b) => a.key - b.key);\n\n    new Rect()\n      .data(polarAxis)\n      .rotate(d => d.angle || 0)\n      .width(0)\n      .height(0)\n      .x(d => d.x)\n      .y(d => d.y)\n      .label(d => d.id)\n      .labelBounds(d => d.labelBounds)\n      .labelConfig(this._axisConfig.shapeConfig.labelConfig)\n      .select(\n        elem(\"g.d3plus-Radar-text\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .render();\n\n    new Path()\n      .data(polarAxis)\n      .d(d => `M${0},${0} ${-d.x},${-d.y}`)\n      .select(\n        elem(\"g.d3plus-Radar-axis\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .config(configPrep.bind(this)(this._axisConfig.shapeConfig, \"shape\", \"Path\"))\n      .render();\n\n    const groupData = nestedGroupData.map(h => {\n\n      const q = h.values.map((d, i) => {\n        const value = sum(d.values, (x, i) => this._value(x, i));\n        const r = value / maxValue * radius,\n              radians = tau / totalAxis * i;\n        return {\n          x: r * Math.cos(radians),\n          y: r * Math.sin(radians)\n        };\n      });\n\n      const d = `M ${q[0].x} ${q[0].y} ${q\n        .map(l => `L ${l.x} ${l.y}`)\n        .join(\" \")} L ${q[0].x} ${q[0].y}`;\n\n      return {\n        arr: h.values.map(d => merge(d.values, this._aggs)),\n        id: h.key,\n        points: q,\n        d,\n        __d3plus__: true,\n        data: merge(h.values.map(d => merge(d.values, this._aggs)), this._aggs)\n      };\n\n    });\n\n    const pathConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", \"Path\");\n    const events = Object.keys(pathConfig.on);\n    pathConfig.on = {};\n    for (let e = 0; e < events.length; e++) {\n      const event = events[e];\n      pathConfig.on[event] = (d, i, s, e) => {\n        const x = d.points.map(p => p.x + width / 2);\n        const y = d.points.map(p => p.y + height / 2);\n        const cursor = pointer(e, this._select.node());\n        const xDist = x.map(p => Math.abs(p - cursor[0]));\n        const yDist = y.map(p => Math.abs(p - cursor[1]));\n        const dists = xDist.map((d, i) => d + yDist[i]);\n        this._on[event].bind(this)(d.arr[dists.indexOf(min(dists))], i, s, e);\n      };\n    }\n\n    this._shapes.push(\n      new Path()\n        .data(groupData)\n        .d(d => d.d)\n        .select(\n          elem(\"g.d3plus-Radar-items\", {\n            parent: this._select,\n            enter: {transform},\n            update: {transform}\n          }).node()\n        )\n        .config(pathConfig)\n        .render()\n    );\n\n    return this;\n  }\n\n  /**\n      @memberof Radar\n      @desc Sets the config method used for the radial spokes, circles, and labels.\n      @param {Object} *value*\n      @chainable\n  */\n  axisConfig(_) {\n    return arguments.length ? (this._axisConfig = assign(this._axisConfig, _), this) : this._axisConfig;\n  }\n\n  /**\n      @memberof Radar\n      @desc Defines the value used as axis. If *value* is specified, sets the accessor to the specified metric function. If *value* is not specified, returns the current metric accessor.\n      @param {Function|String} *value*\n      @chainable\n  */\n  metric(_) {\n    return arguments.length ? (this._metric = typeof _ === \"function\" ? _ : accessor(_), this) : this._metric;\n  }\n\n  /**\n      @memberof Radar\n      @desc Determines how much pixel spaces to give the outer labels.\n      @param {Number} [*value* = 100]\n      @chainable\n  */\n  outerPadding(_) {\n    return arguments.length ? (this._outerPadding = _, this) : this._outerPadding;\n  }\n\n  /**\n      @memberof Radar\n      @desc If *value* is specified, sets the value accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current value accessor.\n      @param {Function|String} *value*\n      @example\nfunction value(d) {\n  return d.value;\n}\n  */\n  value(_) {\n    return arguments.length ? (this._value = typeof _ === \"function\" ? _ : accessor(_), this) : this._value;\n  }\n\n}\n","import {default as AreaPlot} from \"./AreaPlot.js\";\n\n/**\n    @class StackedArea\n    @extends Area\n    @desc Creates a stacked area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.AreaPlot()\n  .stacked(true)\n*/\nexport default class StackedArea extends AreaPlot {\n\n  /**\n      @memberof StackedArea\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._stacked = true;\n\n  }\n\n}\n"],"names":["scale","data","discrete","padding","uniqueValues","Array","from","Set","map","d","closest","reduce","acc","curr","i","arr","prev","domain","slice","reverse","Date","x","y","x2","y2","buffer","xKey","yKey","oppScale","_discrete","oppDomain","isDiscreteX","negVals","posVals","_stacked","groupedData","nest","key","group","entries","values","sum","filter","allValues","bMax","max","invert","bMin","min","discreteBuffer","floor10","v","Math","pow","floor","log10","abs","ceil10","ceil","axis","value","size","range","index","undefined","isNaN","mod","parseFloat","toPrecision","replace","logMod","log","needsBuffer","tempAxis","copy","diverging","r","percentScale","scaleLog","leftPercentage","zero","outside","tempRange","pixelValue","yScale","xScale","config","xD","yD","xR","yR","forEach","s","numericBuffer","vals","b","w","width","h","height","testLineShape","shapes","Line","testTextBox","TextBox","defaultSize","_sizeScaleD3","_size","stackOrderAscending","series","sums","stackSum","keys","split","d3Shape","stackOrderNone","sort","a","localeCompare","stackOrderDescending","n","length","stackOffsetDiverging","order","dy","yn","yp","m","j","other","charAt","nonDiscrete","_d3Scale","negative","_getPosition","space","pos","Plot","_annotations","_backgroundConfig","duration","fill","_barPadding","_buffer","Bar","BarBuffer","Box","BoxBuffer","Circle","CircleBuffer","LineBuffer","Rect","RectBuffer","_confidenceConfig","c","_shapeConfig","stroke","fillOpacity","constant","_discreteCutoff","_groupPadding","_lineMarkerConfig","colorAssign","_id","_lineMarkers","_previousAnnotations","_previousShapes","_shape","assign","Area","label","_drawLabel","labelBounds","aes","largestRect","points","angle","cx","cy","labelConfig","fontMin","fontResize","ariaLabel","ariaLabelStr","nested","_x","_y","_x2","_y2","bind","fontMax","fontColor","colorDefaults","dark","colorContrast","fontStroke","fontStrokeWidth","textAnchor","verticalAlign","curve","toUpperCase","colorLegible","strokeWidth","_shapeOrder","_shapeSort","indexOf","_sizeMax","_sizeMin","_sizeScale","_stackOffset","_stackOrder","_timelineConfig","brushing","brushMin","_xTime","_yTime","_x2Time","_y2Time","accessor","_xAxis","AxisBottom","align","_xTest","gridSize","_xConfig","gridConfig","id","_xCutoff","_x2Axis","AxisTop","_x2Test","_x2Config","_yAxis","AxisLeft","_yTest","_yConfig","_yCutoff","_y2Axis","AxisRight","_y2Test","_y2Config","k","str","_aggs","title","callback","_filteredData","stackGroup","_groupBy","_ids","join","__d3plus__","hci","_confidence","_drawDepth","lci","shape","_formattedData","rExtent","extent","scales","x2Exists","some","y2Exists","_height","_margin","top","bottom","opp","opp2","opps","parent","_select","transition","_transition","_width","left","right","x2Time","_time","xTime","y2Time","yTime","date","getValues","axisData","concat","unique","xData","x2Data","yData","y2Data","discreteKeys","domains","stackData","stackKeys","stackedData","includes","groupValues","obj","dd","a1","b1","g","ids","fillerPoint","push","stack","offset","discreteData","p","_xSort","_x2Sort","_ySort","_y2Sort","domainScaleSetup","domain2","xAutoDomain","x2AutoDomain","x2Scale","yAutoDomain","y2AutoDomain","y2Scale","autoScale","fallback","userScale","deviation","mean","yConfigScale","_yConfigScale","toLowerCase","y2ConfigScale","_y2ConfigScale","xConfigScale","_xConfigScale","x2ConfigScale","_x2ConfigScale","Object","Boolean","_baseline","shapeData","res","res2","xDomain","x2Domain","yDomain","y2Domain","defaultConfig","barConfig","labels","tickSize","defaultX2Config","defaultY2Config","showX","showY","yC","locale","_locale","scalePadding","shapeConfig","rotate","yTicks","labelRotation","testGroup","elem","enter","opacity","configPrep","barLabelFunction","barLabels","String","x2Ticks","every","t","xTicks","y2Ticks","maxSize","select","node","ticks","render","yBounds","outerBounds","yWidth","y2Bounds","y2Width","xC","xRangeMax","largestLabel","_lineLabels","lineData","userConfig","lineLabelConfig","fontSizeAccessor","fontSize","fontWeightAccessor","fontWeight","fontFamilyAccessor","fontFamily","paddingAccessor","labelFunction","xEstimate","maxX","labelWidths","f","labelPadding","labelWidth","textWidth","myMaxX","spaceNeeded","labelSpace","xTestRange","_getRange","x2TestRange","x2Bounds","x2Height","xOffsetLeft","topOffset","xOffsetRight","xBounds","xHeight","_padding","horizontalMargin","verticalMargin","yRange","xRange","rectGroup","transform","x2Transform","xGroup","update","x2Group","xTrans","yTransform","yGroup","y2Transform","y2Group","_xFunc","_yFunc","_d3ScaleNegative","annotationGroup","annotationShapes","annotation","x0","x1","y0","yOffset","y1","exitAnnotations","_duration","events","_on","shapeConfigInner","dataIndex","discreteIndex","scaleType","allPositions","dist","Infinity","barSize","groups","merge","uniqueIds","xMod","scaleLinear","areaConfig","scaleFunction","area","confidenceConfig","_shapes","firstX","firstY","lastX","lastY","classEvents","e","globalEvents","shapeEvents","on","event","markers","dataShapes","exitShapes","_","arguments","lower","upper","_xKey","_x2Key","_xDomain","_x2Domain","_yKey","_y2Key","_yDomain","_y2Domain","Viz","AreaPlot","BarChart","defaultLegend","_legend","legendIds","_legendDepth","barIds","BoxWhisker","_tooltipConfig","_label","l","BumpChart","yConfig","tickFormat","val","xMin","getTime","startData","find","y2Config","xMax","endData","ySort","y2Sort","LinePlot","tau","PI","Radar","_axisConfig","_levels","_metric","_outerPadding","_value","radius","nestedAxisData","nestedGroupData","maxValue","flat","circularAxis","circleConfig","totalAxis","polarAxis","lineHeight","quadrant","parseInt","radians","rotateAnchor","cos","sin","Path","groupData","q","pathConfig","cursor","pointer","xDist","yDist","dists","StackedArea"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}