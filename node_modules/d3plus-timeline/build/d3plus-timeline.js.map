{"version":3,"file":"d3plus-timeline.js","sources":["../src/Timeline.js"],"sourcesContent":["/**\n    @external Axis\n    @see https://github.com/d3plus/d3plus-axis#Axis\n*/\nimport {extent, max, min} from \"d3-array\";\nimport {brushX} from \"d3-brush\";\nimport {scaleTime} from \"d3-scale\";\nimport {pointer} from \"d3-selection\";\n\nimport {Axis, date} from \"d3plus-axis\";\nimport {colorDefaults} from \"d3plus-color\";\nimport {assign, attrize, constant, closest, elem} from \"d3plus-common\";\nimport {formatDate} from \"d3plus-format\";\nimport {textWidth, textWrap} from \"d3plus-text\";\n\n/**\n    @class Timeline\n    @extends external:Axis\n*/\nexport default class Timeline extends Axis {\n\n  /**\n      @memberof Timeline\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._barConfig = Object.assign({}, this._barConfig, {\n      \"stroke-width\": () => this._buttonBehaviorCurrent === \"buttons\" ? 0 : 1\n    });\n    this._brushing = true;\n    this._brushFilter = event => !event.button && event.detail < 2;\n    this._brushMin = constant(1);\n    this._buttonAlign = \"middle\";\n    this._buttonBehavior = \"auto\";\n    this._buttonPadding = 10;\n    this._buttonHeight = 30;\n    this._domain = [2001, 2010];\n    this._gridSize = 0;\n    this._handleConfig = {\n      fill: colorDefaults.dark\n    };\n    this._handleSize = 6;\n    this._height = 100;\n    this._labelOffset = false;\n    this._on = {};\n    this.orient(\"bottom\");\n    this._scale = \"time\";\n    this._selectionConfig = {\n      \"fill\": \"#999\",\n      \"stroke-width\": 0\n    };\n    this._shape = \"Rect\";\n    this._shapeConfig = assign({}, this._shapeConfig, {\n      labelBounds: d => this._buttonBehaviorCurrent === \"buttons\" ? {x: d.labelBounds.x, y: -this._buttonHeight / 2, width: d.labelBounds.width, height: this._buttonHeight} : d.labelBounds,\n      labelConfig: {\n        verticalAlign: () => this._buttonBehaviorCurrent === \"buttons\" ? \"middle\" : \"top\"\n      },\n      fill: () => this._buttonBehaviorCurrent === \"buttons\" ? colorDefaults.light : colorDefaults.dark,\n      height: d => this._buttonBehaviorCurrent === \"buttons\" ? this._buttonHeight : d.tick ? 10 : 0,\n      width: d => this._buttonBehaviorCurrent === \"buttons\" ? this._ticksWidth / this._availableTicks.length : d.tick ? this._domain.map(t => date(t).getTime()).includes(d.id) ? 2 : 1 : 0,\n      y: d => this._buttonBehaviorCurrent === \"buttons\" ? this._align === \"middle\" ? this._height / 2 : this._align === \"start\" ? this._margin.top + this._buttonHeight / 2 : this._height - this._buttonHeight / 2 - this._margin.bottom : d.y\n    });\n    this._snapping = true;\n\n  }\n\n\n  /**\n      @memberof Timeline\n      @desc Triggered on brush \"brush\".\n      @private\n  */\n  _brushBrush(event) {\n\n    if (event.sourceEvent && event.sourceEvent.offsetX && event.selection !== null && (!this._brushing || this._snapping)) {\n\n      const domain = this._updateDomain(event);\n\n      this._brushGroup.call(this._brush.move, this._updateBrushLimit(domain));\n\n    }\n\n    this._brushStyle();\n    if (this._on.brush) this._on.brush(this._selection);\n\n  }\n\n  /**\n      @memberof Timeline\n      @desc Triggered on brush \"end\".\n      @private\n  */\n  _brushEnd(event) {\n\n    if (!event.sourceEvent) return; // Only transition after input.\n\n    const domain = this._updateDomain(event);\n\n    this._brushStyle();\n\n    if (this._brushing || !this._snapping) this._brushGroup.transition(this._transition).call(this._brush.move, this._updateBrushLimit(domain));\n\n    if (this._on.end) this._on.end(this._selection);\n\n  }\n\n  /**\n      @memberof Timeline\n      @desc Triggered on brush \"start\".\n      @private\n  */\n  _brushStart(event) {\n\n    if (event.sourceEvent !== null && (!this._brushing || this._snapping)) {\n\n      const domain = this._updateDomain(event);\n      this._brushGroup.call(this._brush.move, this._updateBrushLimit(domain));\n\n    }\n\n    this._brushStyle();\n    if (this._on.start) this._on.start(event);\n\n  }\n\n  /**\n      @memberof Timeline\n      @desc Overrides the default brush styles.\n      @private\n  */\n  _brushStyle() {\n\n    const {height} = this._position;\n    const timelineHeight = this._shape === \"Circle\"\n      ? typeof this._shapeConfig.r === \"function\" ? this._shapeConfig.r({tick: true}) * 2 : this._shapeConfig.r\n      : this._shape === \"Rect\"\n        ? typeof this._shapeConfig[height] === \"function\" ? this._shapeConfig[height]({tick: true}) : this._shapeConfig[height]\n        : this._tickSize;\n\n    const brushOverlay = this._brushGroup.selectAll(\".overlay\")\n      .attr(\"cursor\", this._brushing ? \"crosshair\" : \"pointer\");\n\n    const brushSelection = this._brushGroup.selectAll(\".selection\")\n      .call(attrize, this._selectionConfig)\n      .attr(\"height\", timelineHeight);\n\n    const brushHandle = this._brushGroup.selectAll(\".handle\")\n      .call(attrize, this._handleConfig)\n      .attr(\"height\", this._buttonBehaviorCurrent === \"buttons\" ? this._buttonHeight : timelineHeight + this._handleSize);\n\n    if (this._buttonBehaviorCurrent === \"buttons\") {\n\n      const yTransform = this._align === \"middle\"\n        ? this._height / 2 - this._buttonHeight / 2\n        : this._align === \"start\"\n          ? this._margin.top : this._height - this._buttonHeight - this._margin.bottom;\n\n      brushHandle.attr(\"y\", yTransform);\n      brushOverlay.attr(\"x\", this._marginLeft).attr(\"width\", this._ticksWidth);\n      brushSelection.attr(\"y\", yTransform);\n    }\n\n  }\n\n  /**\n      @memberof Timeline\n      @desc Updates domain of the timeline used in brush functions.\n      @private\n  */\n  _updateDomain(event) {\n\n    const x = pointer(event, this._select.node())[0];\n    let domain = event.selection && this._brushing ? event.selection : [x, x];\n\n    if (this._buttonBehaviorCurrent === \"ticks\") domain = domain.map(this._d3Scale.invert);\n    domain = domain.map(Number);\n\n    if (event.type === \"brush\" && this._brushing && this._buttonBehaviorCurrent === \"buttons\") {\n      const diffs = event.selection.map(d => Math.abs(d - event.sourceEvent.offsetX));\n\n      domain = diffs[1] <= diffs[0]\n        ? [event.selection[0], event.sourceEvent.offsetX].sort((a, b) => a - b)\n        : [event.sourceEvent.offsetX, event.selection[1]].sort((a, b) => a - b);\n\n    }\n\n    const ticks = this._buttonBehaviorCurrent === \"ticks\"\n      ? this._availableTicks.map(Number)\n      : this._d3Scale.range();\n\n    if (this._buttonBehaviorCurrent === \"ticks\") {\n\n      // find closest min and max ticks from data\n      // and their indices in the ticks Array\n      let minDomain = date(closest(domain[0], ticks));\n      let minIndex = ticks.indexOf(+minDomain);\n      let maxDomain = date(closest(domain[1], ticks));\n      let maxIndex = ticks.indexOf(+maxDomain);\n\n      // using the indices, determine if the 2 ends of the brush\n      // are too close to each other. \"ticksApart\" always needs to\n      // be less than the current current brushMin minus 1. For\n      // example, a brushMin of \"2\" means that the min and max domain\n      // values need to be \"1\" space apart from eachother.\n      let ticksApart = Math.abs(maxIndex - minIndex);\n      const minTicksAllowed = this._brushMin() - 1;\n\n      // if the min and max are not far enough apart to satisfy\n      // brushMin, then forcibly extend the domain.\n      if (ticksApart < minTicksAllowed) {\n\n        // push the maxDomain out as far as possible to account for brushMin\n        maxIndex = min([ticks.length - 1, maxIndex + (minTicksAllowed - ticksApart)]);\n        maxDomain = ticks[maxIndex];\n        ticksApart = Math.abs(maxIndex - minIndex);\n\n        // if the domain is still not far enough apart, extent the minDomain\n        // as far as possible to allow for brushMin\n        if (ticksApart < minTicksAllowed) {\n          minIndex = max([0, minIndex - (minTicksAllowed - ticksApart)]);\n          minDomain = ticks[minIndex];\n        }\n\n      }\n\n      domain[0] = minDomain;\n      domain[1] = maxDomain;\n\n    }\n    else {\n      domain[0] = closest(domain[0], ticks);\n      domain[1] = closest(domain[1], ticks);\n    }\n\n    // if the brush event has finished, update the current \"selection\" value\n    const single = +domain[0] === +domain[1];\n    if (event.type === \"brush\" || event.type === \"end\") {\n      this._selection = this._buttonBehaviorCurrent === \"ticks\"\n        ? single ? domain[0] : domain\n        : single\n          ? date(this._availableTicks[ticks.indexOf(domain[0])])\n          : [date(this._availableTicks[ticks.indexOf(domain[0])]), date(this._availableTicks[ticks.indexOf(domain[1])])];\n    }\n\n    return domain;\n\n  }\n\n  /**\n      @memberof Timeline\n      @desc Updates limits of the brush.\n      @private\n  */\n  _updateBrushLimit(domain) {\n\n    const selection = this._buttonBehaviorCurrent === \"ticks\" ? domain.map(date).map(this._d3Scale) : domain;\n\n    if (selection[0] === selection[1]) {\n      selection[0] -= 0.1;\n      selection[1] += 0.1;\n    }\n\n    if (this._buttonBehaviorCurrent === \"buttons\") {\n      const buttonWidth = 0.5 * (this._ticksWidth / this._availableTicks.length - this._handleSize);\n      selection[0] -= buttonWidth;\n      selection[1] += buttonWidth;\n    }\n\n    return selection;\n  }\n\n  /**\n      @memberof Timeline\n      @desc Draws the timeline.\n      @param {Function} [*callback* = undefined]\n      @chainable\n  */\n  render(callback) {\n    const {height, y} = this._position;\n\n    let ticks = this._ticks ? this._ticks.map(date) : this._domain.map(date);\n    const d3Scale = scaleTime().domain(ticks).range([0, this._width]);\n\n    ticks = this._ticks ? ticks : d3Scale.ticks();\n\n    const tickFormat = this._tickFormat = this._tickFormat ? this._tickFormat : d => formatDate(d, ticks);\n\n    // Measures size of ticks\n    let maxLabel = 0;\n    ticks.forEach((d, i) => {\n\n      const f = this._shapeConfig.labelConfig.fontFamily(d, i),\n            s = this._shapeConfig.labelConfig.fontSize(d, i);\n\n      const wrap = textWrap()\n        .fontFamily(f)\n        .fontSize(s)\n        .lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined);\n\n      const res = wrap(tickFormat(d));\n      \n      let width = res.lines.length\n        ? Math.ceil(max(res.lines.map(line => textWidth(line, {\"font-family\": f, \"font-size\": s})))) + s / 4\n        : 0;\n\n      if (width % 2) width++;\n      if (maxLabel < width) maxLabel = width + 2 * this._buttonPadding;\n\n    });\n\n    this._ticksWidth = maxLabel * ticks.length;\n\n    this._buttonBehaviorCurrent = this._buttonBehavior === \"auto\" ? this._ticksWidth < this._width ? \"buttons\" : \"ticks\" : this._buttonBehavior;\n    if (this._ticks) this._ticks = this._ticks.map(date);\n\n    if (this._buttonBehaviorCurrent === \"buttons\") {\n\n      this._scale = \"ordinal\";\n      this._labelRotation = 0;\n      if (!this._brushing) this._handleSize = 0;\n      const domain = scaleTime().domain(this._domain.map(date)).ticks().map(Number);\n\n      this._domain = this._ticks ? this._ticks : Array.from(Array(domain[domain.length - 1] - domain[0] + 1), (_, x) => domain[0] + x).map(date);\n\n      this._ticks = this._domain;\n\n      const buttonMargin = 0.5 * this._ticksWidth / this._ticks.length;\n\n      this._marginLeft = this._buttonAlign === \"middle\"\n        ? (this._width - this._ticksWidth) / 2 : this._buttonAlign === \"end\"\n          ? this._width - this._ticksWidth : 0;\n\n      const marginRight = this._buttonAlign === \"middle\"\n        ? (this._width + this._ticksWidth) / 2 : this._buttonAlign === \"start\"\n          ? this._ticksWidth : undefined;\n\n      this._range = [\n        this._buttonAlign === \"start\" ? undefined : this._marginLeft + buttonMargin,\n        this._buttonAlign === \"end\" ? undefined : marginRight - buttonMargin\n      ];\n    }\n    else {\n      this._labels = extent(ticks);\n    }\n\n    super.render(callback);\n\n    const offset = this._outerBounds[y],\n          range = this._d3Scale.range();\n\n    const brush = this._brush = brushX()\n      .extent([[range[0], offset], [range[range.length - 1], offset + this._outerBounds[height]]])\n      .filter(this._brushFilter)\n      .handleSize(this._handleSize)\n      .on(\"start\", this._brushStart.bind(this))\n      .on(\"brush\", this._brushBrush.bind(this))\n      .on(\"end\", this._brushEnd.bind(this));\n\n    // data Array to be used when detecting the default value\n    const defaultData = this._buttonBehaviorCurrent === \"ticks\"\n      ? this._availableTicks\n      : range;\n\n    // the default selection, if needed\n    const defaultSelection = [\n      this._brushMin() > defaultData.length\n        ? defaultData[0]\n        : defaultData[defaultData.length - this._brushMin()],\n      defaultData[defaultData.length - 1]\n    ];\n\n    // the current selection, considering user input, defaults, and data\n    const selection = this._selection === void 0 ? defaultSelection\n      : this._selection instanceof Array\n        ? this._buttonBehaviorCurrent === \"buttons\"\n          ? this._selection.map(d => range[this._ticks.map(Number).indexOf(+d)]).slice()\n          : this._selection.slice()\n        : this._buttonBehaviorCurrent === \"buttons\"\n          ? [range[this._ticks.map(Number).indexOf(+this._selection)], range[this._ticks.map(Number).indexOf(+this._selection)]]\n          : [this._selection, this._selection];\n          \n    this._updateBrushLimit(selection);\n\n    this._brushGroup = elem(\"g.brushGroup\", {parent: this._group});\n    this._brushGroup.call(brush).transition(this._transition)\n      .call(brush.move, this._buttonBehaviorCurrent === \"ticks\" ? this._updateBrushLimit(selection) : selection);\n\n    this._outerBounds.y -= this._handleSize / 2;\n    this._outerBounds.height += this._handleSize / 2;\n\n    return this;\n  }\n\n  /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the button padding and returns the current class instance. If *value* is not specified, returns the current button padding.\n        @param {Number} [*value* = 10]\n        @chainable\n    */\n  buttonPadding(_) {\n    return arguments.length ? (this._buttonPadding = _, this) : this._buttonPadding;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, toggles the brushing value and returns the current class instance. If *value* is not specified, returns the current brushing value.\n      @param {Boolean} [*value* = true]\n      @chainable\n  */\n  brushing(_) {\n    return arguments.length ? (this._brushing = _, this) : this._brushing;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, sets the brush event filter and returns the current class instance. If *value* is not specified, returns the current brush event filter.\n      @param {Function} [*value*]\n      @chainable\n      @example\nfunction() {\n  return !event.button && event.detail < 2;\n}\n  */\n  brushFilter(_) {\n    return arguments.length ? (this._brushFilter = _, this) : this._brushFilter;\n  }\n\n  /**\n      @memberof Timeline\n      @desc Sets the minimum number of \"ticks\" to allow to be highlighted when using \"ticks\" buttonBehavior. Helpful when using x/y plots where you don't want the user to select less than 2 time periods. Value passed can either be a static Number, or a function that is expected to return a Number.\n      @param {Number|Function} [*value* = 1]\n      @chainable\n  */\n  brushMin(_) {\n    return arguments.length ? (this._brushMin = typeof _ === \"function\" ? _ : constant(_), this) : this._brushMin;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, toggles the horizontal alignment of the button timeline. Accepted values are `\"start\"`, `\"middle\"` and `\"end\"`. If *value* is not specified, returns the current button value.\n      @param {String} [*value* = \"middle\"]\n      @chainable\n  */\n  buttonAlign(_) {\n    return arguments.length ? (this._buttonAlign = _, this) : this._buttonAlign;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, toggles the style of the timeline. Accepted values are `\"auto\"`, `\"buttons\"` and `\"ticks\"`. If *value* is not specified, returns the current button value.\n      @param {String} [*value* = \"auto\"]\n      @chainable\n  */\n  buttonBehavior(_) {\n    return arguments.length ? (this._buttonBehavior = _, this) : this._buttonBehavior;\n  }\n\n  /**\n        @memberof Timeline\n        @desc If *value* is specified, sets the button height and returns the current class instance. If *value* is not specified, returns the current button height.\n        @param {Number} [*value* = 30]\n        @chainable\n    */\n  buttonHeight(_) {\n    return arguments.length ? (this._buttonHeight = _, this) : this._buttonHeight;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, sets the handle style and returns the current class instance. If *value* is not specified, returns the current handle style.\n      @param {Object} [*value*]\n      @chainable\n  */\n  handleConfig(_) {\n    return arguments.length ? (this._handleConfig = Object.assign(this._handleConfig, _), this) : this._handleConfig;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, sets the handle size and returns the current class instance. If *value* is not specified, returns the current handle size.\n      @param {Number} [*value* = 6]\n      @chainable\n  */\n  handleSize(_) {\n    return arguments.length ? (this._handleSize = _, this) : this._handleSize;\n  }\n\n  /**\n      @memberof Timeline\n      @desc Adds or removes a *listener* for the specified brush event *typename*. If a *listener* is not specified, returns the currently-assigned listener for the specified event *typename*. Mirrors the core [d3-brush](https://github.com/d3/d3-brush#brush_on) behavior.\n      @param {String|Object} [*typename*]\n      @param {Function} [*listener*]\n      @chainable\n  */\n  on(_, f) {\n    return arguments.length === 2 ? (this._on[_] = f, this) : arguments.length ? typeof _ === \"string\" ? this._on[_] : (this._on = Object.assign({}, this._on, _), this) : this._on;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, sets the selection style and returns the current class instance. If *value* is not specified, returns the current selection style.\n      @param {Object} [*value*]\n      @chainable\n  */\n  selectionConfig(_) {\n    return arguments.length ? (this._selectionConfig = Object.assign(this._selectionConfig, _), this) : this._selectionConfig;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, sets the selection and returns the current class instance. If *value* is not specified, returns the current selection. Defaults to the most recent year in the timeline.\n      @param {Array|Date|Number|String} [*value*]\n      @chainable\n  */\n  selection(_) {\n    return arguments.length ? (this._selection = _, this) : this._selection;\n  }\n\n  /**\n      @memberof Timeline\n      @desc If *value* is specified, toggles the snapping value and returns the current class instance. If *value* is not specified, returns the current snapping value.\n      @param {Boolean} [*value* = true]\n      @chainable\n  */\n  snapping(_) {\n    return arguments.length ? (this._snapping = _, this) : this._snapping;\n  }\n\n}\n"],"names":["Timeline","_barConfig","Object","assign","_buttonBehaviorCurrent","_brushing","_brushFilter","event","button","detail","_brushMin","constant","_buttonAlign","_buttonBehavior","_buttonPadding","_buttonHeight","_domain","_gridSize","_handleConfig","fill","colorDefaults","dark","_handleSize","_height","_labelOffset","_on","orient","_scale","_selectionConfig","_shape","_shapeConfig","labelBounds","d","x","y","width","height","labelConfig","verticalAlign","light","tick","_ticksWidth","_availableTicks","length","map","t","date","getTime","includes","id","_align","_margin","top","bottom","_snapping","sourceEvent","offsetX","selection","domain","_updateDomain","_brushGroup","call","_brush","move","_updateBrushLimit","_brushStyle","brush","_selection","transition","_transition","end","start","_position","timelineHeight","r","_tickSize","brushOverlay","selectAll","attr","brushSelection","attrize","brushHandle","yTransform","_marginLeft","pointer","_select","node","_d3Scale","invert","Number","type","diffs","Math","abs","sort","a","b","ticks","range","minDomain","closest","minIndex","indexOf","maxDomain","maxIndex","ticksApart","minTicksAllowed","min","max","single","buttonWidth","callback","_ticks","d3Scale","scaleTime","_width","tickFormat","_tickFormat","formatDate","maxLabel","forEach","i","f","fontFamily","s","fontSize","wrap","textWrap","lineHeight","undefined","res","lines","ceil","line","textWidth","_labelRotation","Array","from","_","buttonMargin","marginRight","_range","_labels","extent","offset","_outerBounds","brushX","filter","handleSize","on","_brushStart","bind","_brushBrush","_brushEnd","defaultData","defaultSelection","slice","elem","parent","_group","arguments","Axis"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}